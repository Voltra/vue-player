(function(u,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue-types"),require("vue")):typeof define=="function"&&define.amd?define(["exports","vue-types","vue"],i):(u=typeof globalThis<"u"?globalThis:u||self,i(u.vuePlayer={},u.VueTypes,u.Vue))})(this,function(u,i,o){"use strict";function Y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xe=function(t,r,n){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof r=="function"&&(n=r,r={}),r=r||{},n=n||function(){},s.type=r.type||"text/javascript",s.charset=r.charset||"utf8",s.async="async"in r?!!r.async:!0,s.src=t,r.attrs&&Ze(s,r.attrs),r.text&&(s.text=""+r.text);var l="onload"in s?G:Ve;l(s,n),s.onload||G(s,n),a.appendChild(s)};function Ze(e,t){for(var r in t)e.setAttribute(r,t[r])}function G(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Ve(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}const Qe=Y(Xe);var Je=function(t){return et(t)&&!tt(t)};function et(e){return!!e&&typeof e=="object"}function tt(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||st(e)}var rt=typeof Symbol=="function"&&Symbol.for,nt=rt?Symbol.for("react.element"):60103;function st(e){return e.$$typeof===nt}function it(e){return Array.isArray(e)?[]:{}}function L(e,t){return t.clone!==!1&&t.isMergeableObject(e)?E(it(e),e,t):e}function at(e,t,r){return e.concat(t).map(function(n){return L(n,r)})}function ot(e,t){if(!t.customMerge)return E;var r=t.customMerge(e);return typeof r=="function"?r:E}function lt(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function q(e){return Object.keys(e).concat(lt(e))}function W(e,t){try{return t in e}catch{return!1}}function ct(e,t){return W(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function dt(e,t,r){var n={};return r.isMergeableObject(e)&&q(e).forEach(function(a){n[a]=L(e[a],r)}),q(t).forEach(function(a){ct(e,a)||(W(e,a)&&r.isMergeableObject(t[a])?n[a]=ot(a,r)(e[a],t[a],r):n[a]=L(t[a],r))}),n}function E(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||at,r.isMergeableObject=r.isMergeableObject||Je,r.cloneUnlessOtherwiseSpecified=L;var n=Array.isArray(t),a=Array.isArray(e),s=n===a;return s?n?r.arrayMerge(e,t,r):dt(e,t,r):L(t,r)}E.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,a){return E(n,a,r)},{})};var ht=E,ut=ht;const yt=Y(ut),pt=/[?&#](?:start|t)=([0-9hms]+)/,ft=/[?&#]end=([0-9hms]+)/,D=/(\d+)([hms])/g,mt=/^\d+$/;function X(e,t){if(e instanceof Array)return;const r=e.match(t);if(r){const n=r[1];if(n.match(D))return Pt(n);if(mt.test(n))return parseInt(n)}}function Pt(e){let t=0,r=D.exec(e);for(;r!==null;){const[,n,a]=r;a==="h"&&(t+=parseInt(n,10)*60*60),a==="m"&&(t+=parseInt(n,10)*60),a==="s"&&(t+=parseInt(n,10)),r=D.exec(e)}return t}function k(e){return X(e,pt)}function Z(e){return X(e,ft)}function C(){return Math.random().toString(36).substr(2,5)}function gt(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function A(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const S={};function b(e,t,r=null,n=()=>!0,a=Qe){const s=A(t);return s&&n(s)?Promise.resolve(s):new Promise((l,d)=>{if(S[e]){S[e].push({resolve:l,reject:d});return}S[e]=[{resolve:l,reject:d}];const y=c=>{S[e].forEach(p=>p.resolve(c))};if(r){const c=window[r];window[r]=function(){c&&c(),y(A(t))}}a(e,c=>{c?(S[e].forEach(p=>p.reject(c)),S[e]=null):r||y(A(t))})})}function bt(e,...t){if(!this.player||!this.player[e]){let r=`VuePlayer: ${this.$options.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}return this.player[e](...t)}function $(e){return typeof MediaStream<"u"&&e instanceof MediaStream||typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function _t(e){return/^blob:/.test(e)}function v(e=document.createElement("video")){const t=!/iPhone|iPod/.test(navigator.userAgent);return typeof e.webkitSetPresentationMode=="function"&&t}const P={events:["mounted","ready","start","play","pause","buffer","buffer-end","ended","error","duration","seek","playback-rate-change","progress","click-preview","enable-pip","disable-pip"],slots:["playIcon","fallback"],props:{url:i.oneOfType([i.string,i.array,i.object]).isRequired,playing:i.bool.def(!1),loop:i.bool.def(!1),controls:i.bool.def(!1),volume:i.number,muted:i.bool.def(!1),playbackRate:i.number.def(1),width:i.oneOfType([i.string,i.number]).def("640px"),height:i.oneOfType([i.string,i.number]).def("360px"),style:i.object.def(()=>({})),progressInterval:i.number.def(1e3),playsInline:i.bool.def(!1),pictureInPicture:i.bool.def(!1),stopOnUnmount:i.bool.def(!0),light:i.oneOfType([i.bool,i.string]).def(!1),previewTabIndex:i.number.def(0),oEmbedUrl:i.string.def("https://noembed.com/embed?url={url}"),wrapper:i.oneOfType([i.string,i.func,i.shape({render:i.func.isRequired}).loose]).def("div"),config:i.object.def(()=>({}))},data(){return{isMounted:!1}},mounted(){this.isMounted=!0,this.$emit("mounted",this)},beforeUnmount(){this.isMounted=!1},watch:{muted(e){e?this.mute():this.unmute()},loop:"setLoop",playbackRate:"setPlaybackRate",volume:"setVolume",playing(e){e?this.play():this.pause()}},methods:{callPlayer(e,...t){return bt.apply(this,[e,...t])},async load(e,...t){},play(){},pause(){},stop(){},seekTo(e){},setVolume(e){},mute(){},unmute(){},getDuration(){return 0},getCurrentTime(){return 0},getSecondsLoaded(){return 0},setPlaybackRate(e){},enablePIP(){},disablePIP(){},setLoop(e){},onError(...e){this.$emit("error",...e)},onDuration(e){this.$emit("duration",e)},onReady(...e){this.$emit("ready",...e)},onSeek(e){this.$emit("seek",e)},onEnded(){this.$emit("ended")},onPause(...e){this.$emit("pause",...e)},onPlay(...e){this.$emit("play",...e)},onBuffer(...e){this.$emit("buffer",...e)},onBufferEnd(...e){this.$emit("buffer-end",...e)},onPlaybackRateChange(...e){this.$emit("playback-rate-change",...e)},onEnablePIP(...e){this.$emit("enable-pip",...e)},onDisablePIP(...e){this.$emit("enable-pip",...e)}}},V={options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},Q=i.shape({options:i.shape({visual:i.bool,buying:i.bool,liking:i.bool,download:i.bool,sharing:i.bool,show_comments:i.bool,show_playcount:i.bool}).loose}).loose.def(()=>V),J={playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:()=>{}},ee=i.shape({playerVars:i.shape({playsinline:i.integer,showinfo:i.integer,rel:i.integer,iv_load_policy:i.integer,modestbranding:i.integer}).loose,embedOptions:i.object,onUnstarted:i.func}).loose.def(()=>J),te={appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},re=i.shape({appId:i.string,version:i.string,playerId:i.string,attributes:i.object}).loose.def(()=>te),ne={params:{api:1,"endscreen-enable":!1}},se=i.shape({params:i.shape({api:i.integer,"endscreen-enable":i.bool}).loose}).loose.def(()=>ne),ie={playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},ae=i.shape({playerOptions:i.shape({autopause:i.bool,byline:i.bool,portrait:i.bool,title:i.bool}).loose,title:i.string}).loose.def(()=>ie),oe={attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},le=i.shape({attributes:i.object,tracks:i.array,forceVideo:i.bool,forceAudio:i.bool,forceHLS:i.bool,forceDASH:i.bool,forceFLV:i.bool,hlsOptions:i.object,hlsVersion:i.string,dashVersion:i.string,flvVersion:i.string}).loose.def(()=>oe),ce={wistia:{options:{},playerId:null,customControls:null}},de=i.shape({wistia:i.shape({options:i.object,playerId:i.string,customControls:i.array}).loose}).loose.def(()=>ce),he={options:{hide_cover:1}},ue=i.shape({options:i.shape({hide_cover:i.integer}).loose}).loose.def(()=>he),ye={options:{},playerId:null},pe=i.shape({options:i.object,playerId:i.string}).loose.def(()=>ye),fe={options:{}},me=i.shape({options:i.object}).loose.def(()=>fe),I={soundcloud:V,youtube:J,facebook:te,dailymotion:ne,vimeo:ie,file:oe,wistia:ce,mixcloud:he,twitch:ye,vidyard:fe},wt=i.shape({soundcloud:Q,youtube:ee,facebook:re,dailymotion:se,vimeo:ae,file:le,wistia:de,mixcloud:ue,twitch:pe,vidyard:me}).def(()=>I),Et=i.oneOfType([i.object,i.string,i.func]),Pe={mixins:[P],props:{config:wt,progressFrequency:i.number,activePlayer:Et}};/*!
	The MIT License

	Copyright © Pete Cook http://cookpete.com

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
	*/const ge=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,St=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,Lt=/vimeo\.com\/(?!progressive_redirect).+/,kt=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,$t=/^https?:\/\/fb\.watch\/.+$/,be=/streamable\.com\/([a-z0-9]+)$/,_e=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/,vt=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,R=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,we=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/,Ee=/mixcloud\.com\/([^/]+\/[^/]+)/,Se=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Ot=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/,O=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Le=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,M=/\.(m3u8)($|\?)/i,ke=/\.(mpd)($|\?)/i,$e=/\.(flv)($|\?)/i,j=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&j(t)||j(t.src))return!0;return!1}return $(e)||_t(e)?!0:O.test(e)||Le.test(e)||M.test(e)||ke.test(e)||$e.test(e)},h={youtube:e=>e instanceof Array?e.every(t=>ge.test(t)):ge.test(e),soundcloud:e=>St.test(e)&&!O.test(e),vimeo:e=>Lt.test(e)&&!Le.test(e)&&!M.test(e),facebook:e=>kt.test(e)||$t.test(e),streamable:e=>be.test(e),wistia:e=>_e.test(e),twitch:e=>vt.test(e)||R.test(e),dailymotion:e=>we.test(e),mixcloud:e=>Ee.test(e),vidyard:e=>Se.test(e),kaltura:e=>Ot.test(e),file:j},B=[{key:"youtube",name:"YouTube",canPlay:h.youtube,lazyPlayer:()=>Promise.resolve().then(()=>_n)},{key:"soundcloud",name:"SoundCloud",canPlay:h.soundcloud,lazyPlayer:()=>Promise.resolve().then(()=>Rr)},{key:"vimeo",name:"Vimeo",canPlay:h.vimeo,lazyPlayer:()=>Promise.resolve().then(()=>sn)},{key:"facebook",name:"Facebook",canPlay:h.facebook,lazyPlayer:()=>Promise.resolve().then(()=>rr)},{key:"streamable",name:"Streamable",canPlay:h.streamable,lazyPlayer:()=>Promise.resolve().then(()=>Nr)},{key:"wistia",name:"Wistia",canPlay:h.wistia,lazyPlayer:()=>Promise.resolve().then(()=>un)},{key:"twitch",name:"Twitch",canPlay:h.twitch,lazyPlayer:()=>Promise.resolve().then(()=>Gr)},{key:"dailymotion",name:"DailyMotion",canPlay:h.dailymotion,lazyPlayer:()=>Promise.resolve().then(()=>Vt)},{key:"mixcloud",name:"Mixcloud",canPlay:h.mixcloud,lazyPlayer:()=>Promise.resolve().then(()=>vr)},{key:"vidyard",name:"Vidyard",canPlay:h.vidyard,lazyPlayer:()=>Promise.resolve().then(()=>Jr)},{key:"kaltura",name:"Kaltura",canPlay:h.kaltura,lazyPlayer:()=>Promise.resolve().then(()=>wr)},{key:"file",name:"FilePlayer",canPlay:h.file,canEnablePIP:e=>h.file(e)&&(document.pictureInPictureEnabled||v())&&!O.test(e),lazyPlayer:()=>Promise.resolve().then(()=>fr)}];var ve=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Dt(e,t){return!!(e===t||ve(e)&&ve(t))}function Ct(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Dt(e[r],t[r]))return!1;return!0}function Oe(e,t){t===void 0&&(t=Ct);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var l=e.apply(this,a);return r={lastResult:l,lastArgs:a,lastThis:this},l}return n.clear=function(){r=null},n}const m=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r};let w=[];const At={displayName:"VuePlayer",addCustomPlayer(e){w.push(e)},removeCustomPlayer(e){w=w.filter(t=>t!==e)},removeCustomPlayers(){w=[]},canPlay(e){return[...w,...B].some(t=>t.canPlay(e))},canEnablePIP(e){return[...w,...B].some(t=>{var r;return(r=t.canEnablePIP)==null?void 0:r.call(t,e)})},inheritAttrs:!1,mixins:[Pe],emits:["click-preview"],components:{Preview:()=>Promise.resolve().then(()=>Ft),Player:()=>Promise.resolve().then(()=>Nt)},data(){return{shouldShowPreview:!!this.light}},mounted(){this.getConfig=Oe(this.getConfig),this.getActivePlayer=Oe(this.getActivePlayer)},computed:{previewProps(){return{url:this.url,light:this.light,previewTabIndex:this.previewTabIndex,oEmbedUrl:this.oEmbedUrl}},playerKey(){var e;return(e=this.currentPlayer)==null?void 0:e.key},currentPlayer(){return this.activePlayer??this.getActivePlayer(this.url)},playerConfig(){return this.getConfig(this.url,this.playerKey)},playerComponent(){var e;return((e=this.currentPlayer)==null?void 0:e.lazyPlayer)??this.currentPlayer},playerStyles(){return{...this.style??{},width:this.width,height:this.height}}},methods:{getDuration(){var e,t;return(t=(e=this.$refs.player)==null?void 0:e.getDuration)==null?void 0:t.call(e)},getCurrentTime(){var e,t;return(t=(e=this.$refs.player)==null?void 0:e.getCurrentTime)==null?void 0:t.call(e)},getSecondsLoaded(){var e,t;return(t=(e=this.$refs.player)==null?void 0:e.getSecondsLoaded)==null?void 0:t.call(e)},seekTo(e,t){var r,n;return(n=(r=this.$refs.player)==null?void 0:r.seekTo)==null?void 0:n.call(r,e,t)},getConfig(e,t){var r;return yt.all([I,I[t]??{},this.config??{},((r=this.config)==null?void 0:r[t])??{}])},getActivePlayer(e){return[...w,...B].find(t=>t.canPlay(e))},handleClickPreview(e){this.shouldShowPreview=!1,this.$emit("click-preview",e)},showPreview(){this.shouldShowPreview=!0},handleReady(){this.onReady(this)},getInternalPlayer(e="player"){var t;return(t=this.$refs.player)==null?void 0:t.getInternalPlayer(e)}}},It={key:0};function Rt(e,t,r,n,a,s){const l=o.resolveComponent("Preview");return o.openBlock(),o.createBlock(o.resolveDynamicComponent(e.wrapper),o.mergeProps({ref:"wrapper"},e.$attrs),{default:o.withCtx(()=>[e.url?(o.openBlock(),o.createElementBlock("span",It,[o.renderSlot(e.$slots,"noUrl")])):(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[a.shouldShowPreview?(o.openBlock(),o.createBlock(l,o.mergeProps({key:0},s.previewProps,{onClick:s.handleClickPreview}),{playIcon:o.withCtx(()=>[o.renderSlot(e.$slots,"playIcon")]),_:3},16,["onClick"])):(o.openBlock(),o.createBlock(o.resolveDynamicComponent(s.currentPlayer),o.mergeProps({key:1},e.$props,{key:s.playerKey,ref:"player",config:s.playerConfig,activePlayer:s.playerComponent,style:s.playerStyles,onReady:s.handleReady},o.toHandlers(e.$listeners)),{none:o.withCtx(()=>[o.renderSlot(e.$slots,"#noPlayer")]),_:3},16,["config","activePlayer","style","onReady"]))],64))]),_:3},16)}const Mt=m(At,[["render",Rt]]),jt=5e3,Bt={mixins:[Pe],inheritAttrs:!1,data(){return{player:null,isReady:!1,isPlaying:!1,isLoading:!0,loadOnReady:null,startOnPlay:!0,seekOnPlay:null,onDurationCalled:!1,progressTimeout:0,durationCheckTimeout:0}},computed:{playerProps(){return{...this.$props,...this.$attrs}}},beforeUnmount(){var e,t,r,n;clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.stopOnUnmount&&((t=(e=this.player)==null?void 0:e.stop)==null||t.call(e),(n=(r=this.player)==null?void 0:r.disablePIP)==null||n.call(r))},watch:{playing(e){var t,r,n,a;e&&!this.isPlaying?((r=(t=this.player)==null?void 0:t.play)==null||r.call(t),this.isPlaying=!0):!e&&this.isPlaying&&((a=(n=this.player)==null?void 0:n.pause)==null||a.call(n),this.isPlaying=!1)},pictureInPicture(e){var t,r,n,a;e?(r=(t=this.player)==null?void 0:t.enablePIP)==null||r.call(t):(a=(n=this.player)==null?void 0:n.disablePIP)==null||a.call(n)},muted(e){var t,r,n,a;e?(r=(t=this.player)==null?void 0:t.mute)==null||r.call(t):((a=(n=this.player)==null?void 0:n.unmute)==null||a.call(n),this.volume!==null&&this.$nextTick(()=>{var s,l;return(l=(s=this.player)==null?void 0:s.setVolume)==null?void 0:l.call(s,volume)}))}},methods:{getDuration(){var e,t;return this.isReady?(t=(e=this.player)==null?void 0:e.getDuration)==null?void 0:t.call(e):null},getCurrentTime(){var e,t;return this.isReady?(t=(e=this.player)==null?void 0:e.getCurrentTime)==null?void 0:t.call(e):null},getSecondsLoaded(){var e,t;return this.isReady?(t=(e=this.player)==null?void 0:e.getSecondsLoaded)==null?void 0:t.call(e):null},seekTo(e,t){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},jt));return}if(t?t==="fraction":e>0&&e<1){const n=this.player.getDuration();if(!n){console.warn("VuePlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(n*e);return}this.player.seekTo(e)},handlePlayerMount(e){this.player=e,this.player.load(this.url),this.progress()},getInternalPlayer(e){var t;return(t=this.player)==null?void 0:t[e]},progress(){if(this.url&&this.player&&this.isReady){const e=this.getCurrentTime()??0,t=this.getSecondsLoaded(),r=this.getDuration();if(r){const n={playedSeconds:e,played:e/r};t!==null&&(n.loadedSeconds=t,n.loaded=t/r),(n.playedSeconds!==this.prevPlayed||n.loadedSeconds!==this.prevLoaded)&&this.onProgress(n),this.prevPlayed=n.playedSeconds,this.prevLoaded=n.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.progressFrequency??this.progressInterval)},handleReady(){if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:r,muted:n}=this;e(),!n&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()},handlePlay(){var n,a;this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:r}=this;this.startOnPlay&&(r!==1&&((a=(n=this.player)==null?void 0:n.setPlaybackRate)==null||a.call(n,r)),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()},handlePause(e){this.isPlaying=!1,this.isLoading||this.onPause(e)},handleEnded(){const{activePlayer:e,loop:t,onEnded:r}=this;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,r())},handleError(...e){this.isLoading=!1,this.onError(...e)},handleDurationCheck(){clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)},handleLoaded(){this.isLoading=!1}}},Tt={key:1,class:"vue-player--none"};function Ut(e,t,r,n,a,s){return e.activePlayer?(o.openBlock(),o.createBlock(o.resolveDynamicComponent(e.activePlayer),o.mergeProps({key:0},s.playerProps,{class:"vue-player",onMount:s.handlePlayerMount,onReady:s.handleReady,onPlay:s.handlePlay,onPause:s.handlePause,onEnded:s.handleEnded,onLoaded:s.handleLoaded,onError:s.handleError},o.toHandlers(e.$listeners)),null,16,["onMount","onReady","onPlay","onPause","onEnded","onLoaded","onError"])):(o.openBlock(),o.createElementBlock("span",Tt,[o.renderSlot(e.$slots,"none")]))}const De=m(Bt,[["render",Ut]]),Nt=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"})),T={},xt={emits:["click"],props:{url:i.string.isRequired,oEmbedUrl:i.string.isRequired,previewTabIndex:i.integer.def(0),light:i.any},data(){return{image:null,mounted:!1}},mounted(){this.mounted=!0,this.fetchImage()},beforeUnmount(){this.mounted=!1},computed:{previewStyles(){return this.image?{backgroundImage:`url(${this.image})`}:{}}},methods:{handleClick(e){this.$emit("click",e)},handleKeyPress(e){(e.key==="Enter"||e.key===" ")&&this.$emit("click",e)},async fetchImage(){if(typeof this.light=="string")this.image=this.light;else if(T[this.url])this.image=T[this.url];else{this.image=null;const t=await(await fetch(this.oEmbedUrl.replace("{url}",this.url))).json();if(typeof t.thumbnail_url<"u"&&this.mounted){const r=t.thumbnail_url.replace("height=100","height=480");this.image=r,T[this.url]=r}}},watch:{url:"fetchImage",light:"fetchImage"}}},Ht=["tabindex"],Kt=o.createElementVNode("div",{class:"vue-player__shadow react-player__shadow"},[o.createElementVNode("div",{class:"vue-player__play-icon react-player__play-icon"})],-1);function zt(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("div",{class:"vue-player__preview react-player__preview",tabindex:r.previewTabIndex,style:o.normalizeStyle(s.previewStyles),onClick:t[0]||(t[0]=(...l)=>s.handleClick&&s.handleClick(...l)),onKeydown:t[1]||(t[1]=(...l)=>s.handleKeyPress&&s.handleKeyPress(...l))},[o.renderSlot(e.$slots,"playIcon",{},()=>[Kt])],44,Ht)}const Ce=m(xt,[["render",zt]]),Ft=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"})),Yt="https://api.dmcdn.net/all.js",Gt="DM",qt="dmAsyncInit",Wt={displayName:"DailyMotion",canPlay:h.dailymotion,loopOnEnded:!0,mixins:[P],props:{config:se,display:i.string.def("block")},computed:{styles(){return this.display?{display:this.display}:{}}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seek",e)},setVolume(e){this.callPlayer("setVolume",e)},mute(){this.callPlayer("setMuted",!0)},unmute(){this.callPlayer("setMuted",!1)},getDuration(){var e;return((e=this.player)==null?void 0:e.duration)||null},getCurrentTime(){var e;return(e=this.player)==null?void 0:e.currentTime},getSecondsLoaded(){var e;return(e=this.player)==null?void 0:e.bufferedTime},async load(e){const{controls:t,config:r,playing:n}=this,[,a]=e.match(we);if(this.player){this.player.load(a,{start:k(e),autoplay:n});return}try{const s=await b(Yt,Gt,qt,d=>d.player);if(!this.$refs.container)return;const l=s.player;this.player=new l(this.$refs.container,{width:"100%",height:"100%",video:a,params:{controls:t,autoplay:this.playing,mute:this.muted,start:k(e),origin:window.location.origin,...r.params},events:{apiready:this.onReady,seeked:()=>this.onSeek(this.player.currentTime),video_end:this.onEnded,durationchange:this.onDurationChange,pause:this.onPause,playing:this.onPlay,waiting:this.onBuffer,error:this.onError}})}catch(s){this.onError(s)}},onDurationChange(){const e=this.getDuration();this.onDuration(e)}}},Xt={ref:"container"};function Zt(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("div",{class:"vue-player--dailymotion",style:o.normalizeStyle(s.styles)},[o.createElementVNode("div",Xt,null,512)],4)}const Ae=m(Wt,[["render",Zt]]),Vt=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"})),Ie="https://connect.facebook.net/en_US/sdk.js",Re="FB",Me="fbAsyncInit",Qt="facebook-player-",Jt={displayName:"Facebook",canPlay:h.facebook,loopOnEnabled:!0,events:["loaded"],mixins:[P],props:{config:re},data(){return{randomId:`${Qt}${C()}`}},computed:{playerID(){var e;return((e=this==null?void 0:this.config)==null?void 0:e.playerId)??this.randomId}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seek",e)},setVolume(e){this.callPlayer("setVolume",e)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},getDuration(){return this.callPlayer("getDuration")},getCurrentTime(){return this.callPlayer("getCurrentTime")},getSecondsLoaded(){return null},async load(e,t){var n,a;if(t){const s=await b(Ie,Re,Me);(a=(n=s==null?void 0:s.XFBML)==null?void 0:n.parse)==null||a.call(n);return}const r=await b(Ie,Re,Me);r.init({appId:this.config.appId,xfbml:!0,version:this.config.version}),r.Event.subscribe("xfbml.render",s=>{this.onLoaded()}),r.Event.subscribe("xfbml.ready",s=>{s.type==="video"&&s.id===this.playerID&&(this.player=s.instance,this.player.subscribe("startedPlaying",this.onPlay),this.player.subscribe("paused",this.onPause),this.player.subscribe("finishedPlaying",this.onEnded),this.player.subscribe("startedBuffering",this.onBuffer),this.player.subscribe("finishedBuffering",this.onBufferEnd),this.player.subscribe("error",this.onError),this.muted?this.mute():this.unmute(),this.onReady(),document.getElementById(this.playerID).querySelector("iframe").style.visibility="visible")})},onLoaded(...e){this.$emit("loaded",...e)}}},er=["id","data-href","data-autoplay","data-controls"];function tr(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("div",o.mergeProps({id:this.playerID,class:"fb-video vue-player--facebook","data-href":this.url,"data-autoplay":this.playing?"true":"false","data-controls":this.controls?"true":"false","data-allowfullscreen":"true"},r.config.attributes),null,16,er)}const je=m(Jt,[["render",tr]]),rr=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"})),Be=typeof navigator<"u",nr=Be&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Te=Be&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||nr)&&!window.MSStream,sr="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",ir="Hls",ar="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",or="dashjs",lr="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",cr="flvjs",dr=/www\.dropbox\.com\/.+/,U=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,hr="https://videodelivery.net/{id}/manifest/video.m3u8",ur={displayName:"FilePlayer",canPlay:h.file,mixins:[P],props:{config:le},data(){return{prevPlayer:this.$refs.player??null,prevUrl:this.url}},computed:{urlIsArray(){return Array.isArray(this.url)},hasTracks(){var t;const e=((t=this.config)==null?void 0:t.tracks)??[];return Array.isArray(e)&&e.length>0},tag(){return this.shouldUseAudio?"audio":"video"},shouldUseAudio(){var e;return(e=this.config)!=null&&e.forceVideo||this.config.attributes.poster?!1:O.test(this.url)||this.config.forceAudio},styles(){return{width:this.width==="auto"?this.width:"100%",height:this.height==="auto"?this.height:"100%"}},src(){return this.getSource(this.url)}},mounted(){var e,t;this.addListeners(this.$refs.player),Te&&((t=(e=this.$refs.player)==null?void 0:e.load)==null||t.call(e)),this.$watch(()=>this.$refs.player,(r,n)=>{this.prevPlayer=n})},beforeUnmount(){var e,t;this.prevPlayer=null,this.removeListeners(this.$refs.player),(t=(e=this.hls)==null?void 0:e.destroy)==null||t.call(e)},watch:{url(e,t){this.prevUrl=t,!$(e)&&this.$refs.player&&(this.$refs.player.srcObject=null)},shouldUseAudio(){this.removeListeners(this.prevPlayer,this.prevUrl),this.addListeners(this.$refs.player)}},methods:{onDisablePIP(...e){this.$emit("disable-pip",...e),this.playing&&this.play()},onSeek(e){this.$emit("seek",e.target.currentTime)},play(){var t,r;const e=(r=(t=this.$refs.player).play)==null?void 0:r.call(t);e&&e.catch(this.onError)},pause(){var e,t;(t=(e=this.$refs.player).pause)==null||t.call(e)},stop(){var e,t,r,n;(t=(e=this.$refs.player)==null?void 0:e.removeAttribute)==null||t.call(e,"src"),(n=(r=this.dash)==null?void 0:r.reset)==null||n.call(r)},seekTo(e){this.player.currentTime=e},setVolume(e){this.player.volume=e},mute(){this.player.muted=!0},unmute(){this.player.muted=!1},getDuration(){if(!this.$refs.player)return null;const{duration:e,seekable:t}=this.$refs.player;return e===1/0&&t.length>0?t.end(t.length-1):e},getCurrentTime(){var e;return(e=this.$refs.player)==null?void 0:e.currentTime},getSecondsLoaded(){if(!this.$refs.player)return null;const{buffered:e}=this.$refs.player;if(e.length===0)return 0;const t=e.end(e.length-1),r=this.getDuration();return t>r?r:t},setPlaybackRate(e){try{this.$refs.player.playbackRate=e}catch(t){this.onError(t)}},enablePIP(){var e,t,r,n,a,s;(e=this.$refs.player)!=null&&e.requestPictureInPicture&&document.pictureInPictureElement!==this.$refs.player?((r=(t=this.$refs.player)==null?void 0:t.requestPictureInPicture)==null||r.call(t),this.onEnablePIP()):v(this.$refs.player)&&((n=this.$refs.player)==null?void 0:n.webkitPresentationMode)!=="picture-in-picture"&&((s=(a=this.$refs.player)==null?void 0:a.webkitSetPresentationMode)==null||s.call(a,"picture-in-picture"),this.onEnablePIP())},disablePIP(){var e,t,r;document.exitPictureInPicture&&document.pictureInPictureElement===this.$refs.player?(document.exitPictureInPicture(),this.onDisablePIP()):v(this.$refs.player)&&((e=this.$refs.player)==null?void 0:e.webkitPresentationMode)!=="inline"&&((r=(t=this.$refs.player)==null?void 0:t.webkitSetPresentationMode)==null||r.call(t,"inline"),this.onDisablePIP())},async load(e){var s,l,d,y,c,p;const{hlsVersion:t,hlsOptions:r,dashVersion:n,flvVersion:a}=this.config;if((l=(s=this.hls)==null?void 0:s.destroy)==null||l.call(s),(y=(d=this.dash)==null?void 0:d.reset)==null||y.call(d),this.shouldUseHLS(e)){const f=await getSDK(sr.replace("VERSION",t),ir);if(this.hls=new f(r),this.hls.on(f.Events.MANIFEST_PARSED,()=>{this.onReady()}),this.hls.on(f.Events.ERROR,(_,g)=>{this.onError(_,g,this.hls,f)}),U.test(e)){const _=e.match(U)[1];this.hls.loadSource(hr.replace("{id}",_))}else this.hls.loadSource(e);this.hls.attachMedia(this.$refs.player),this.onLoaded()}else if(this.shouldUseDASH(e)){const f=await getSDK(ar.replace("VERSION",n),or);this.dash=f.MediaPlayer().create(),this.dash.initialize(this.$refs.player,e,this.playing),this.dash.on("error",this.onError),parseInt(n)<3?this.dash.getDebug().setLogToBrowserConsole(!1):this.dash.updateSettings({debug:{logLevel:f.Debug.LOG_LEVEL_NONE}}),this.onLoaded()}else if(this.shouldUseFLV(e)){const f=await getSDK(lr.replace("VERSION",a),cr);this.flv=f.createPlayer({type:"flv",url:e}),this.flv.attachMediaElement(this.$refs.player),this.flv.load(),this.onLoaded()}if(e instanceof Array)(p=(c=this.$refs.player)==null?void 0:c.load)==null||p.call(c);else if($(e))try{this.$refs.player.srcObject=e}catch{this.$refs.player.src=URL.createObjectURL(e)}},getSource(e){const t=this.shouldUseHLS(e),r=this.shouldUseDASH(e),n=this.shouldUseFLV(e);if(!(e instanceof Array||$(e)||t||r||n))return dr.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e},onPresentationModeChange(e){if(this.$refs.player&&v(this.$refs.player)){const{webkitPresentationMode:t}=this.$refs.player;t==="picture-in-picture"?this.onEnablePIP(e):t==="inline"&&this.onDisablePIP(e)}},addListeners(e){const{url:t,playsInline:r}=this;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlaybackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))},removeListeners(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlaybackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)},shouldUseHLS(e){var t;return(t=this.config)!=null&&t.forceHLS?!0:Te?!1:M.test(e)||U.test(e)},shouldUseDASH(e){return ke.test(e)||this.props.config.forceDASH},shouldUseFLV(e){return $e.test(e)||this.props.config.forceFLV}}},yr=["src"];function pr(e,t,r,n,a,s){return o.openBlock(),o.createBlock(o.resolveDynamicComponent(s.tag),o.mergeProps({ref:"player",class:"vue-player--file",style:s.styles,preload:"auto",src:s.src,autoplay:e.playing,controls:e.controls,muted:e.muted,loop:e.loop},r.config.attributes),{default:o.withCtx(()=>[s.urlIsArray?(o.openBlock(),o.createElementBlock(o.Fragment,{key:0},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(this.url,(l,d)=>o.renderSlot(e.$slots,"source",o.normalizeProps(o.guardReactiveProps({source:l})),()=>[typeof l=="string"?(o.openBlock(),o.createElementBlock("source",{src:l,key:l},null,8,yr)):(o.openBlock(),o.createElementBlock("source",o.mergeProps({key:d},l),null,16))])),256)),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(this.config.tracks,(l,d)=>o.renderSlot(e.$slots,"track",o.normalizeProps(o.guardReactiveProps({track:l})),()=>[(o.openBlock(),o.createElementBlock("track",o.mergeProps({key:d},l),null,16))])),256))],64)):o.createCommentVNode("",!0)]),_:3},16,["style","src","autoplay","controls","muted","loop"])}const Ue=m(ur,[["render",pr]]),fr=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),mr="https://cdn.embed.ly/player-0.1.0.min.js",Pr="playerjs",gr={displayName:"Kaltura",canPlay:h.kaltura,mixins:[P],data(){return{duration:null,currentTime:null,secondsLoaded:null}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("setCurrentTime",e)},setVolume(e){this.callPlayer("setVolume",e)},setLoop(e){this.callPlayer("setLoop",e)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.secondsLoaded},async load(e){try{const t=await b(mr,Pr);if(!this.$refs.iframe)return;this.player=new t.Player(this.$refs.iframe),this.player.on("ready",()=>{setTimeout(()=>{this.player.isReady=!0,this.player.setLoop(this.loop),this.muted&&this.player.mute(),this.addListeners(this.player),this.onReady()},500)})}catch(t){this.onError(t)}},addListeners(e){e.on("play",this.onPlay),e.on("pause",this.onPause),e.on("ended",this.onEnded),e.on("error",this.onError),e.on("timeupdate",({duration:t,seconds:r})=>{const n=this.duration!==t;this.duration=t,this.currentTime=r,n&&this.onDuration(t),this.onSeek(r)})}}},br=["src"];function _r(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("iframe",{class:"vue-player--kaltura",ref:"iframe",src:e.url,frameborder:"0",scrolling:"no",allowfullscreen:"",allow:"encrypted-media;autoplay",referrerpolicy:"no-referrer-when-downgrade"},null,8,br)}const Ne=m(gr,[["render",_r]]),wr=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"})),Er="https://widget.mixcloud.com/media/js/widgetApi.js",Sr="Mixcloud",Lr={displayName:"Mixcloud",canPlay:h.mixcloud,mixins:[P],props:{config:ue},data(){return{duration:null,currentTime:null,secondsLoaded:null}},computed:{id(){return this.url.match(Ee)[1]},query(){return gt({...this.config.options,feed:`/${this.id}/`})},src(){return`https://www.mixcloud.com/widget/iframe/?${this.query}`}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seek",e)},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.secondsLoaded},async load(e){try{const t=await b(Er,Sr);this.player=t.PlayerWidget(this.$refs.iframe),this.player.ready.then(()=>{this.player.events.play.on(this.onPlay),this.player.events.pause.on(this.onPause),this.player.events.ended.on(this.onEnded),this.player.events.error.on(this.onError),this.player.events.progress.on((r,n)=>{this.currentTime=r,this.duration=n}),this.onReady()})}catch(t){this.onError(t)}}}},kr=["src"];function $r(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("iframe",{key:s.id,ref:"iframe",src:s.src,class:"vue-player--mixcloud",frameborder:"0"},null,8,kr)}const xe=m(Lr,[["render",$r]]),vr=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),Or="https://w.soundcloud.com/player/api.js",Dr="SC",Cr={displayName:"Soundcloud",canPlay:h.soundcloud,loopOnEnded:!0,mixins:[P],props:{config:Q,display:i.string.def("block")},data(){return{duration:null,currentTime:null,fractionLoaded:null}},computed:{styles(){return{display:this.display,width:"100%",height:"100%"}},src(){return`https://w.soundcloud.com/player/?url=${encodeURIComponent(this.url)}`}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seekTo",e*1e3)},setVolume(e){this.callPlayer("setVolume",e*100)},mute(){this.setVolume(0)},unmute(){this.volume!==null&&this.setVolume(this.volume)},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.fractionLoaded*this.duration},async load(e,t){try{const r=await b(Or,Dr);if(!this.iframe)return;const{PLAY:n,PLAY_PROGRESS:a,PAUSE:s,FINISH:l,ERROR:d}=r.Widget.Events;t||(this.player=r.Widget(this.$refs.iframe),this.player.bind(n,this.onPlay),this.player.bind(s,()=>{this.duration-this.currentTime<.05||this.onPause()}),this.player.bind(a,y=>{this.currentTime=y.currentPosition/1e3,this.fractionLoaded=y.loadedProgress}),this.player.bind(l,this.onEnded),this.player.bind(d,this.onError)),this.player.load(e,{...this.config.options,callback:()=>{this.player.getDuration(y=>{this.duration=y/1e3,this.onReady()})}})}catch(r){this.onError(r)}}}},Ar=["src"];function Ir(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("iframe",{ref:"iframe",class:"vue-player--soundcloud",style:o.normalizeStyle(s.styles),src:s.src,frameborder:"0",allow:"autoplay"},null,12,Ar)}const He=m(Cr,[["render",Ir]]),Rr=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"})),Mr="https://cdn.embed.ly/player-0.1.0.min.js",jr="playerjs",Br={displayName:"Streamable",canPlay:h.streamable,mixins:[P],data(){return{duration:null,currentTime:null,secondsLoaded:null}},computed:{id(){return this.url.match(be)[1]},src(){return`https://streamable.com/o/${this.id}`}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("setCurrentTime",e)},setVolume(e){this.callPlayer("setVolume",e*100)},setLoop(e){this.callPlayer("setLoop",e)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.secondsLoaded},async load(e){try{const t=await getSDK(Mr,jr);if(!this.iframe)return;this.player=new t.Player(this.$refs.iframe),this.player.setLoop(this.loop),this.player.on("ready",this.onReady),this.player.on("play",this.onPlay),this.player.on("pause",this.onPause),this.player.on("seeked",this.onSeek),this.player.on("ended",this.onEnded),this.player.on("error",this.onError),this.player.on("timeupdate",({duration:r,seconds:n})=>{this.duration=r,this.currentTime=n}),this.player.on("buffered",({percent:r})=>{this.duration&&(this.secondsLoaded=this.duration*r)}),this.muted&&this.player.mute()}catch(t){this.onError(t)}}}},Tr=["src"];function Ur(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("iframe",{class:"vue-player--streamable",ref:"iframe",src:s.src,frameborder:"0",scrolling:"no",allowfullscreen:""},null,8,Tr)}const Ke=m(Br,[["render",Ur]]),Nr=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"})),xr="https://player.twitch.tv/js/embed/v1.js",Hr="Twitch",Kr="twitch-player-",zr={displayName:"Twitch",canPlay:h.twitch,loopOnEnded:!0,mixins:[P],props:{config:pe},data(){return{randomId:`${Kr}${C()}`}},computed:{pid(){return this.config.playerId??this.randomId}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},stop(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seek",e)},setVolume(e){this.callPlayer("setVolume",e)},unmute(){this.callPlayer("setMuted",!1)},getDuration(){return this.callPlayer("getDuration")},getCurrentTime(){return this.callPlayer("getCurrentTime")},getSecondsLoaded(){return null},async load(e,t){var r,n,a,s;try{const{playsinline:l,config:d,controls:y}=this,c=R.test(e),p=c?e.match(R)[1]:e.match(MATCH_URL_TWITCH_VIDEO)[1];if(t){c?(n=(r=this.player)==null?void 0:r.setChannel)==null||n.call(r,p):(s=(a=this.player)==null?void 0:a.setVideo)==null||s.call(a,"v"+p);return}const f=await getSDK(xr,Hr);this.player=new f.Player(this.pid,{video:c?"":p,channel:c?p:"",height:"100%",width:"100%",playsinline:l,autoplay:this.playing,muted:this.muted,controls:c?!0:y,time:k(e),...d.options});const{READY:_,PLAYING:g,PAUSE:H,ENDED:K,ONLINE:z,OFFLINE:F,SEEK:wn}=f.Player;this.player.addEventListener(_,this.onReady),this.player.addEventListener(g,this.onPlay),this.player.addEventListener(H,this.onPause),this.player.addEventListener(K,this.onEnded),this.player.addEventListener(wn,this.onSeek),this.player.addEventListener(z,this.onLoaded),this.player.addEventListener(F,this.onLoaded)}catch(l){this.onError(l)}}}},Fr=["id"];function Yr(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("div",{class:"vue-player--twitch",id:s.pid},null,8,Fr)}const ze=m(zr,[["render",Yr]]),Gr=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"})),qr="https://play.vidyard.com/embed/v4.js",Wr="VidyardV4",Xr="onVidyardAPI",Zr={displayName:"Vidyard",canPlay:h.vidyard,mixins:[P],props:{config:me,display:i.string.def("block")},computed:{styles(){return{display:this.display,width:"100%",height:"100%"}}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},stop(){var e,t,r;(r=(t=(e=window.VidyardV4)==null?void 0:e.api)==null?void 0:t.destroyPlayer)==null||r.call(t,this.player)},seekTo(e){this.callPlayer("seek",e)},setVolume(e){this.callPlayer("setVolume",e)},mute(){this.setVolume(0)},unmute(){this.volume&&this.setVolume(this.volume)},setPlaybackRate(e){this.callPlayer("setPlaybackSpeed",e)},getDuration(){return this.duration},getCurrentTime(){return this.callPlayer("currentTime")},getSecondsLoaded(){return null},async load(e){try{const{playing:t,config:r}=this,n=(e??this.url).match(Se)[1];this.player&&this.stop();const a=await b(qr,Wr,Xr);if(!this.$refs.container)return;a.api.addReadyListener((s,l)=>{this.player=l,this.player.on("ready",this.onReady),this.player.on("play",this.onPlay),this.player.on("pause",this.onPause),this.player.on("seek",this.onSeek),this.player.on("playerComplete",this.onEnded)},n),a.api.renderPlayer({uuid:n,container:this.$refs.container,autoplay:t?1:0,...r.options}),a.api.getPlayerMetadata(n).then(s=>{this.duration=s.length_in_seconds,this.onDuration(s.length_in_seconds)})}catch(t){this.onError(t)}}}},Vr={ref:"container"};function Qr(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("div",{style:o.normalizeStyle(s.styles)},[o.createElementVNode("div",Vr,null,512)],4)}const Fe=m(Zr,[["render",Qr]]),Jr=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"})),en="https://player.vimeo.com/api/player.js",tn="Vimeo",rn={displayName:"Vimeo",canPlay:h.vimeo,forceLoad:!0,mixins:[P],props:{config:ae,display:i.string.def("block")},data(){return{duration:null,currentTime:null,secondsLoaded:null}},computed:{styles(){return{display:this.display,overflow:"hidden",width:"100%",height:"100%"}}},methods:{play(){const e=this.callPlayer("play");e&&e.catch(this.onError)},pause(){this.callPlayer("pause")},stop(){this.callPlayer("unload")},seekTo(e){this.callPlayer("setCurrentTime",e)},setVolume(e){this.callPlayer("setVolume",e)},setLoop(e){this.callPlayer("setLoop",e)},setPlaybackRate(e){this.callPlayer("setPlaybackRate",e)},mute(){this.setVolume(0)},unmute(){this.volume&&this.setVolume(this.volume)},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.secondsLoaded},async load(e){try{this.duration=null;const t=await b(en,tn);if(!this.$refs.container)return;const{playerOptions:r,title:n}=this.config;this.player=new t.Player(this.$refs.container,{url:e,autoplay:this.playing,muted:this.muted,loop:this.loop,playsinline:this.playsinline,controls:this.controls,...r}),this.player.ready().then(()=>{const a=this.$refs.container.querySelector("iframe");a.style.width="100%",a.style.height="100%",n&&(a.title=n)}).catch(this.onError),this.player.on("loaded",()=>{this.onReady(),this.refreshDuration()}),this.player.on("play",()=>{this.onPlay(),this.refreshDuration()}),this.player.on("pause",this.onPause),this.player.on("seeked",a=>this.onSeek(a.seconds)),this.player.on("ended",this.onEnded),this.player.on("error",this.onError),this.player.on("timeupdate",({seconds:a})=>{this.currentTime=a}),this.player.on("progress",({seconds:a})=>{this.secondsLoaded=a}),this.player.on("bufferstart",this.onBuffer),this.player.on("bufferend",this.onBufferEnd)}catch(t){this.onError(t)}},async refreshDuration(){this.duration=await this.player.getDuration()}}};function nn(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("div",{key:this.url,style:o.normalizeStyle(s.styles),ref:"container"},null,4)}const Ye=m(rn,[["render",nn]]),sn=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),an="https://fast.wistia.com/assets/external/E-v1.js",on="Wistia",ln="wistia-player-",cn={displayName:"Wistia",canPlay:h.wistia,loopOnEnded:!0,mixins:[P],props:{config:de},data(){return{randomId:`${ln}${C()}`}},computed:{pid(){return this.config.playerId??this.randomId},videoId(){var e,t,r;return(r=(t=(e=this.url)==null?void 0:e.match)==null?void 0:t.call(e,_e))==null?void 0:r[1]},className(){return`vue-player--wistia wistia_embed wistia_async_${this.videoId}`}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},stop(){this.unbind(),this.callPlayer("remove")},seekTo(e){this.callPlayer("time",e)},setVolume(e){this.callPlayer("volume",e)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},setPlaybackRate(e){this.callPlayer("playbackRate",e)},getDuration(){return this.callPlayer("duration")},getCurrentTime(){return this.callPlayer("time")},getSecondsLoaded(){return null},async load(e){var t,r;try{const{playing:n,muted:a,controls:s,onReady:l,config:d,onError:y}=this,c=await getSDK(an,on);(r=(t=d.customControls)==null?void 0:t.forEach)==null||r.call(t,p=>c.defineControl(p)),window._wq=window._wq||[],window._wq.push({id:this.playerID,options:{autoPlay:n,silentAutoPlay:"allow",muted:a,controlsVisibleOnLoad:s,fullscreenButton:s,playbar:s,playbackRateControl:s,qualityControl:s,volumeControl:s,settingsControl:s,smallPlayButton:s,...d.options},onReady:p=>{this.player=p,this.unbind(),this.player.bind("play",this.onPlay),this.player.bind("pause",this.onPause),this.player.bind("seek",this.onSeek),this.player.bind("end",this.onEnded),this.player.bind("playbackratechange",this.onPlaybackRateChange),l()}})}catch(n){this.onError(n)}},unbind(){var e,t,r,n,a,s,l,d,y,c;(t=(e=this.player)==null?void 0:e.unbind)==null||t.call(e,"play",this.onPlay),(n=(r=this.player)==null?void 0:r.unbind)==null||n.call(r,"pause",this.onPause),(s=(a=this.player)==null?void 0:a.unbind)==null||s.call(a,"seek",this.onSeek),(d=(l=this.player)==null?void 0:l.unbind)==null||d.call(l,"end",this.onEnded),(c=(y=this.player)==null?void 0:y.unbind)==null||c.call(y,"playbackratechange",this.onPlaybackRateChange)}}},dn=["id"];function hn(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("div",{id:s.pid,key:s.videoId,class:o.normalizeClass(s.className)},null,10,dn)}const Ge=m(cn,[["render",hn]]),un=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"})),yn="https://www.youtube.com/iframe_api",qe="YT",pn="onYouTubeIframeAPIReady",N=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,x=/user\/([a-zA-Z0-9_-]+)\/?/,fn=/youtube-nocookie\.com/,mn="https://www.youtube-nocookie.com",Pn={displayName:"YouTube",canPlay:h.youtube,mixins:[P],props:{config:ee},computed:{styles(){return{display:this.display,width:"100%",height:"100%"}}},methods:{play(){this.callPlayer("playVideo")},pause(){this.callPlayer("pauseVideo")},stop(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")},seekTo(e){this.callPlayer("seekTo",e),this.playing||this.pause()},setVolume(e){this.callPlayer("setVolume",e*100)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},setPlaybackRate(e){this.callPlayer("setPlaybackRate",e)},setLoop(e){this.callPlayer("setLoop",e)},getDuration(){return this.callPlayer("getDuration")},getCurrentTime(){return this.callPlayer("getCurrentTime")},getSecondsLoaded(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()},async load(e,t){try{const{playing:r,muted:n,playsinline:a,controls:s,loop:l,config:d,onError:y}=this,{playerVars:c,embedOptions:p}=d,f=this.getID(e);if(t){if(N.test(e)||x.test(e)||e instanceof Array){this.player.loadPlaylist(this.parsePlaylist(e));return}this.player.cueVideoById({videoId:f,startSeconds:k(e)||c.start,endSeconds:Z(e)||c.end});return}const _=await b(yn,qe,pn,g=>g.loaded);if(!this.container)return;this.player=new _.Player(this.container,{width:"100%",height:"100%",videoId:f,playerVars:{autoplay:r?1:0,mute:n?1:0,controls:s?1:0,start:k(e),end:Z(e),origin:window.location.origin,playsinline:a?1:0,...this.parsePlaylist(e),...c},events:{onReady:()=>{l&&this.player.setLoop(!0),this.onReady()},onPlaybackRateChange:g=>this.onPlaybackRateChange(g.data),onStateChange:this.onStateChange,onError:g=>y(g.data)},host:fn.test(e)?mn:void 0,...p}),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}catch(r){this.onError(r)}},parsePlaylist(e){if(e instanceof Array)return{listType:"playlist",playlist:e.map(this.getID).join(",")};if(N.test(e)){const[,t]=e.match(N);return{listType:"playlist",list:t.replace(/^UC/,"UU")}}if(x.test(e)){const[,t]=e.match(x);return{listType:"user_uploads",list:t}}return{}},onStateChange(e){const{data:t}=e,{onPlay:r,onPause:n,onBuffer:a,onBufferEnd:s,onEnded:l,onReady:d,loop:y,config:{playerVars:c,onUnstarted:p}}=this,{UNSTARTED:f,PLAYING:_,PAUSED:g,BUFFERING:H,ENDED:K,CUED:z}=window[qe].PlayerState;if(t===f&&p(),t===_&&(r(),s()),t===g&&n(),t===H&&a(),t===K){const F=!!this.callPlayer("getPlaylist");y&&!F&&(c.start?this.seekTo(c.start):this.play()),l()}t===z&&d()}}},gn={ref:"container"};function bn(e,t,r,n,a,s){return o.openBlock(),o.createElementBlock("div",{class:"vue-player--youtube",style:o.normalizeStyle(s.styles)},[o.createElementVNode("div",gn,null,512)],4)}const We=m(Pn,[["render",bn]]),_n=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));u.DailyMotionPlayer=Ae,u.FacebookPlayer=je,u.FilePlayer=Ue,u.KalturaPlayer=Ne,u.MixcloudPlayer=xe,u.Player=De,u.Preview=Ce,u.SoundcloudPlayer=He,u.StreamablePlayer=Ke,u.TwitchPlayer=ze,u.VidyardPlayer=Fe,u.VimeoPlayer=Ye,u.VuePlayer=Mt,u.WistiaPlayer=Ge,u.YouTubePlayer=We,u.playerMixin=P,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})});
