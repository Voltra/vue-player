"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("vue-types"),o=require("vue");function te(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var We=function(t,s,r){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("script");typeof s=="function"&&(r=s,s={}),s=s||{},r=r||function(){},n.type=s.type||"text/javascript",n.charset=s.charset||"utf8",n.async="async"in s?!!s.async:!0,n.src=t,s.attrs&&Xe(n,s.attrs),s.text&&(n.text=""+s.text);var l="onload"in n?z:Ze;l(n,r),n.onload||z(n,r),i.appendChild(n)};function Xe(e,t){for(var s in t)e.setAttribute(s,t[s])}function z(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Ze(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}const Qe=te(We);var Je=function(t){return et(t)&&!tt(t)};function et(e){return!!e&&typeof e=="object"}function tt(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||nt(e)}var st=typeof Symbol=="function"&&Symbol.for,rt=st?Symbol.for("react.element"):60103;function nt(e){return e.$$typeof===rt}function it(e){return Array.isArray(e)?[]:{}}function E(e,t){return t.clone!==!1&&t.isMergeableObject(e)?w(it(e),e,t):e}function at(e,t,s){return e.concat(t).map(function(r){return E(r,s)})}function ot(e,t){if(!t.customMerge)return w;var s=t.customMerge(e);return typeof s=="function"?s:w}function lt(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function F(e){return Object.keys(e).concat(lt(e))}function se(e,t){try{return t in e}catch{return!1}}function ct(e,t){return se(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function dt(e,t,s){var r={};return s.isMergeableObject(e)&&F(e).forEach(function(i){r[i]=E(e[i],s)}),F(t).forEach(function(i){ct(e,i)||(se(e,i)&&s.isMergeableObject(t[i])?r[i]=ot(i,s)(e[i],t[i],s):r[i]=E(t[i],s))}),r}function w(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||at,s.isMergeableObject=s.isMergeableObject||Je,s.cloneUnlessOtherwiseSpecified=E;var r=Array.isArray(t),i=Array.isArray(e),n=r===i;return n?r?s.arrayMerge(e,t,s):dt(e,t,s):E(t,s)}w.all=function(t,s){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return w(r,i,s)},{})};var ut=w,ht=ut;const yt=te(ht),pt=/[?&#](?:start|t)=([0-9hms]+)/,ft=/[?&#]end=([0-9hms]+)/,B=/(\d+)([hms])/g,mt=/^\d+$/;function re(e,t){if(e instanceof Array)return;const s=e.match(t);if(s){const r=s[1];if(r.match(B))return Pt(r);if(mt.test(r))return parseInt(r)}}function Pt(e){let t=0,s=B.exec(e);for(;s!==null;){const[,r,i]=s;i==="h"&&(t+=parseInt(r,10)*60*60),i==="m"&&(t+=parseInt(r,10)*60),i==="s"&&(t+=parseInt(r,10)),s=B.exec(e)}return t}function S(e){return re(e,pt)}function Y(e){return re(e,ft)}function H(){return Math.random().toString(36).substr(2,5)}function gt(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function A(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const v={};function b(e,t,s=null,r=()=>!0,i=Qe){const n=A(t);return n&&r(n)?Promise.resolve(n):new Promise((l,d)=>{if(v[e]){v[e].push({resolve:l,reject:d});return}v[e]=[{resolve:l,reject:d}];const h=c=>{v[e].forEach(y=>y.resolve(c))};if(s){const c=window[s];window[s]=function(){c&&c(),h(A(t))}}i(e,c=>{c?(v[e].forEach(y=>y.reject(c)),v[e]=null):s||h(A(t))})})}function bt(e,...t){if(!this.player||!this.player[e]){let s=`VuePlayer: ${this.$options.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(s+="The method was not available"):s+="The player was not available",console.warn(s,"font-weight: bold",""),null}return this.player[e](...t)}function L(e){return typeof MediaStream<"u"&&e instanceof MediaStream||typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function _t(e){return/^blob:/.test(e)}function k(e=document.createElement("video")){const t=!/iPhone|iPod/.test(navigator.userAgent);return typeof e.webkitSetPresentationMode=="function"&&t}const m={events:["mounted","ready","start","play","pause","buffer","buffer-end","ended","error","duration","seek","playback-rate-change","progress","click-preview","enable-pip","disable-pip"],slots:["playIcon","fallback"],props:{url:a.oneOfType([a.string,a.array,a.object]).isRequired,playing:a.bool.def(!1),loop:a.bool.def(!1),controls:a.bool.def(!1),volume:a.number,muted:a.bool.def(!1),playbackRate:a.number.def(1),width:a.oneOfType([a.string,a.number]).def("640px"),height:a.oneOfType([a.string,a.number]).def("360px"),style:a.object.def(()=>({})),progressInterval:a.number.def(1e3),playsInline:a.bool.def(!1),pictureInPicture:a.bool.def(!1),stopOnUnmount:a.bool.def(!0),light:a.oneOfType([a.bool,a.string]).def(!1),previewTabIndex:a.number.def(0),oEmbedUrl:a.string.def("https://noembed.com/embed?url={url}"),wrapper:a.oneOfType([a.string,a.func,a.shape({render:a.func.isRequired}).loose]).def("div"),config:a.object.def(()=>({}))},data(){return{isMounted:!1}},mounted(){this.isMounted=!0,this.$emit("mounted",this)},beforeUnmount(){this.isMounted=!1},watch:{muted(e){e?this.mute():this.unmute()},loop:"setLoop",playbackRate:"setPlaybackRate",volume:"setVolume",playing(e){e?this.play():this.pause()}},methods:{callPlayer(e,...t){return bt.apply(this,[e,...t])},async load(e,...t){},play(){},pause(){},stop(){},seekTo(e){},setVolume(e){},mute(){},unmute(){},getDuration(){return 0},getCurrentTime(){return 0},getSecondsLoaded(){return 0},setPlaybackRate(e){},enablePIP(){},disablePIP(){},setLoop(e){},onError(...e){this.$emit("error",...e)},onDuration(e){this.$emit("duration",e)},onReady(...e){this.$emit("ready",...e)},onSeek(e){this.$emit("seek",e)},onEnded(){this.$emit("ended")},onPause(...e){this.$emit("pause",...e)},onPlay(...e){this.$emit("play",...e)},onBuffer(...e){this.$emit("buffer",...e)},onBufferEnd(...e){this.$emit("buffer-end",...e)},onPlaybackRateChange(...e){this.$emit("playback-rate-change",...e)},onEnablePIP(...e){this.$emit("enable-pip",...e)},onDisablePIP(...e){this.$emit("enable-pip",...e)}}},ne={options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},ie=a.shape({options:a.shape({visual:a.bool,buying:a.bool,liking:a.bool,download:a.bool,sharing:a.bool,show_comments:a.bool,show_playcount:a.bool}).loose}).loose.def(()=>ne),ae={playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:()=>{}},oe=a.shape({playerVars:a.shape({playsinline:a.integer,showinfo:a.integer,rel:a.integer,iv_load_policy:a.integer,modestbranding:a.integer}).loose,embedOptions:a.object,onUnstarted:a.func}).loose.def(()=>ae),le={appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},ce=a.shape({appId:a.string,version:a.string,playerId:a.string,attributes:a.object}).loose.def(()=>le),de={params:{api:1,"endscreen-enable":!1}},ue=a.shape({params:a.shape({api:a.integer,"endscreen-enable":a.bool}).loose}).loose.def(()=>de),he={playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},ye=a.shape({playerOptions:a.shape({autopause:a.bool,byline:a.bool,portrait:a.bool,title:a.bool}).loose,title:a.string}).loose.def(()=>he),pe={attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},fe=a.shape({attributes:a.object,tracks:a.array,forceVideo:a.bool,forceAudio:a.bool,forceHLS:a.bool,forceDASH:a.bool,forceFLV:a.bool,hlsOptions:a.object,hlsVersion:a.string,dashVersion:a.string,flvVersion:a.string}).loose.def(()=>pe),me={wistia:{options:{},playerId:null,customControls:null}},Pe=a.shape({wistia:a.shape({options:a.object,playerId:a.string,customControls:a.array}).loose}).loose.def(()=>me),ge={options:{hide_cover:1}},be=a.shape({options:a.shape({hide_cover:a.integer}).loose}).loose.def(()=>ge),_e={options:{},playerId:null},ve=a.shape({options:a.object,playerId:a.string}).loose.def(()=>_e),we={options:{}},Ee=a.shape({options:a.object}).loose.def(()=>we),U={soundcloud:ne,youtube:ae,facebook:le,dailymotion:de,vimeo:he,file:pe,wistia:me,mixcloud:ge,twitch:_e,vidyard:we},vt=a.shape({soundcloud:ie,youtube:oe,facebook:ce,dailymotion:ue,vimeo:ye,file:fe,wistia:Pe,mixcloud:be,twitch:ve,vidyard:Ee}).def(()=>U),wt=a.oneOfType([a.object,a.string,a.func]),Se={mixins:[m],props:{config:vt,progressFrequency:a.number,activePlayer:wt}};/*!
The MIT License

Copyright © Pete Cook http://cookpete.com

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/const G=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,Et=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,St=/vimeo\.com\/(?!progressive_redirect).+/,Lt=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,kt=/^https?:\/\/fb\.watch\/.+$/,Le=/streamable\.com\/([a-z0-9]+)$/,ke=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/,$t=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,x=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,$e=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/,Te=/mixcloud\.com\/([^/]+\/[^/]+)/,Oe=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Tt=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/,$=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,De=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,K=/\.(m3u8)($|\?)/i,Ce=/\.(mpd)($|\?)/i,Ae=/\.(flv)($|\?)/i,N=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&N(t)||N(t.src))return!0;return!1}return L(e)||_t(e)?!0:$.test(e)||De.test(e)||K.test(e)||Ce.test(e)||Ae.test(e)},u={youtube:e=>e instanceof Array?e.every(t=>G.test(t)):G.test(e),soundcloud:e=>Et.test(e)&&!$.test(e),vimeo:e=>St.test(e)&&!De.test(e)&&!K.test(e),facebook:e=>Lt.test(e)||kt.test(e),streamable:e=>Le.test(e),wistia:e=>ke.test(e),twitch:e=>$t.test(e)||x.test(e),dailymotion:e=>$e.test(e),mixcloud:e=>Te.test(e),vidyard:e=>Oe.test(e),kaltura:e=>Tt.test(e),file:N},I=[{key:"youtube",name:"YouTube",canPlay:u.youtube,lazyPlayer:()=>Promise.resolve().then(()=>br)},{key:"soundcloud",name:"SoundCloud",canPlay:u.soundcloud,lazyPlayer:()=>Promise.resolve().then(()=>Is)},{key:"vimeo",name:"Vimeo",canPlay:u.vimeo,lazyPlayer:()=>Promise.resolve().then(()=>nr)},{key:"facebook",name:"Facebook",canPlay:u.facebook,lazyPlayer:()=>Promise.resolve().then(()=>ss)},{key:"streamable",name:"Streamable",canPlay:u.streamable,lazyPlayer:()=>Promise.resolve().then(()=>Us)},{key:"wistia",name:"Wistia",canPlay:u.wistia,lazyPlayer:()=>Promise.resolve().then(()=>ur)},{key:"twitch",name:"Twitch",canPlay:u.twitch,lazyPlayer:()=>Promise.resolve().then(()=>Ys)},{key:"dailymotion",name:"DailyMotion",canPlay:u.dailymotion,lazyPlayer:()=>Promise.resolve().then(()=>Zt)},{key:"mixcloud",name:"Mixcloud",canPlay:u.mixcloud,lazyPlayer:()=>Promise.resolve().then(()=>$s)},{key:"vidyard",name:"Vidyard",canPlay:u.vidyard,lazyPlayer:()=>Promise.resolve().then(()=>Js)},{key:"kaltura",name:"Kaltura",canPlay:u.kaltura,lazyPlayer:()=>Promise.resolve().then(()=>vs)},{key:"file",name:"FilePlayer",canPlay:u.file,canEnablePIP:e=>u.file(e)&&(document.pictureInPictureEnabled||k())&&!$.test(e),lazyPlayer:()=>Promise.resolve().then(()=>fs)}];var q=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ot(e,t){return!!(e===t||q(e)&&q(t))}function Dt(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!Ot(e[s],t[s]))return!1;return!0}function W(e,t){t===void 0&&(t=Dt);var s=null;function r(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];if(s&&s.lastThis===this&&t(i,s.lastArgs))return s.lastResult;var l=e.apply(this,i);return s={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){s=null},r}const f=(e,t)=>{const s=e.__vccOpts||e;for(const[r,i]of t)s[r]=i;return s};let _=[];const Ct={displayName:"VuePlayer",addCustomPlayer(e){_.push(e)},removeCustomPlayer(e){_=_.filter(t=>t!==e)},removeCustomPlayers(){_=[]},canPlay(e){return[..._,...I].some(t=>t.canPlay(e))},canEnablePIP(e){return[..._,...I].some(t=>{var s;return(s=t.canEnablePIP)==null?void 0:s.call(t,e)})},inheritAttrs:!1,mixins:[Se],emits:["click-preview"],components:{Preview:()=>Promise.resolve().then(()=>zt),Player:()=>Promise.resolve().then(()=>Ut)},data(){return{shouldShowPreview:!!this.light}},mounted(){this.getConfig=W(this.getConfig),this.getActivePlayer=W(this.getActivePlayer)},computed:{previewProps(){return{url:this.url,light:this.light,previewTabIndex:this.previewTabIndex,oEmbedUrl:this.oEmbedUrl}},playerKey(){var e;return(e=this.currentPlayer)==null?void 0:e.key},currentPlayer(){return this.activePlayer??this.getActivePlayer(this.url)},playerConfig(){return this.getConfig(this.url,this.playerKey)},playerComponent(){var e;return((e=this.currentPlayer)==null?void 0:e.lazyPlayer)??this.currentPlayer},playerStyles(){return{...this.style??{},width:this.width,height:this.height}}},methods:{getDuration(){var e,t;return(t=(e=this.$refs.player)==null?void 0:e.getDuration)==null?void 0:t.call(e)},getCurrentTime(){var e,t;return(t=(e=this.$refs.player)==null?void 0:e.getCurrentTime)==null?void 0:t.call(e)},getSecondsLoaded(){var e,t;return(t=(e=this.$refs.player)==null?void 0:e.getSecondsLoaded)==null?void 0:t.call(e)},seekTo(e,t){var s,r;return(r=(s=this.$refs.player)==null?void 0:s.seekTo)==null?void 0:r.call(s,e,t)},getConfig(e,t){var s;return yt.all([U,U[t]??{},this.config??{},((s=this.config)==null?void 0:s[t])??{}])},getActivePlayer(e){return[..._,...I].find(t=>t.canPlay(e))},handleClickPreview(e){this.shouldShowPreview=!1,this.$emit("click-preview",e)},showPreview(){this.shouldShowPreview=!0},handleReady(){this.onReady(this)},getInternalPlayer(e="player"){var t;return(t=this.$refs.player)==null?void 0:t.getInternalPlayer(e)}}},At={key:0};function It(e,t,s,r,i,n){const l=o.resolveComponent("Preview");return o.openBlock(),o.createBlock(o.resolveDynamicComponent(e.wrapper),o.mergeProps({ref:"wrapper"},e.$attrs),{default:o.withCtx(()=>[e.url?(o.openBlock(),o.createElementBlock("span",At,[o.renderSlot(e.$slots,"noUrl")])):(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[i.shouldShowPreview?(o.openBlock(),o.createBlock(l,o.mergeProps({key:0},n.previewProps,{onClick:n.handleClickPreview}),{playIcon:o.withCtx(()=>[o.renderSlot(e.$slots,"playIcon")]),_:3},16,["onClick"])):(o.openBlock(),o.createBlock(o.resolveDynamicComponent(n.currentPlayer),o.mergeProps({key:1},e.$props,{key:n.playerKey,ref:"player",config:n.playerConfig,activePlayer:n.playerComponent,style:n.playerStyles,onReady:n.handleReady},o.toHandlers(e.$listeners)),{none:o.withCtx(()=>[o.renderSlot(e.$slots,"#noPlayer")]),_:3},16,["config","activePlayer","style","onReady"]))],64))]),_:3},16)}const Rt=f(Ct,[["render",It]]),Mt=5e3,Vt={mixins:[Se],inheritAttrs:!1,data(){return{player:null,isReady:!1,isPlaying:!1,isLoading:!0,loadOnReady:null,startOnPlay:!0,seekOnPlay:null,onDurationCalled:!1,progressTimeout:0,durationCheckTimeout:0}},computed:{playerProps(){return{...this.$props,...this.$attrs}}},beforeUnmount(){var e,t,s,r;clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.stopOnUnmount&&((t=(e=this.player)==null?void 0:e.stop)==null||t.call(e),(r=(s=this.player)==null?void 0:s.disablePIP)==null||r.call(s))},watch:{playing(e){var t,s,r,i;e&&!this.isPlaying?((s=(t=this.player)==null?void 0:t.play)==null||s.call(t),this.isPlaying=!0):!e&&this.isPlaying&&((i=(r=this.player)==null?void 0:r.pause)==null||i.call(r),this.isPlaying=!1)},pictureInPicture(e){var t,s,r,i;e?(s=(t=this.player)==null?void 0:t.enablePIP)==null||s.call(t):(i=(r=this.player)==null?void 0:r.disablePIP)==null||i.call(r)},muted(e){var t,s,r,i;e?(s=(t=this.player)==null?void 0:t.mute)==null||s.call(t):((i=(r=this.player)==null?void 0:r.unmute)==null||i.call(r),this.volume!==null&&this.$nextTick(()=>{var n,l;return(l=(n=this.player)==null?void 0:n.setVolume)==null?void 0:l.call(n,volume)}))}},methods:{getDuration(){var e,t;return this.isReady?(t=(e=this.player)==null?void 0:e.getDuration)==null?void 0:t.call(e):null},getCurrentTime(){var e,t;return this.isReady?(t=(e=this.player)==null?void 0:e.getCurrentTime)==null?void 0:t.call(e):null},getSecondsLoaded(){var e,t;return this.isReady?(t=(e=this.player)==null?void 0:e.getSecondsLoaded)==null?void 0:t.call(e):null},seekTo(e,t){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},Mt));return}if(t?t==="fraction":e>0&&e<1){const r=this.player.getDuration();if(!r){console.warn("VuePlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(r*e);return}this.player.seekTo(e)},handlePlayerMount(e){this.player=e,this.player.load(this.url),this.progress()},getInternalPlayer(e){var t;return(t=this.player)==null?void 0:t[e]},progress(){if(this.url&&this.player&&this.isReady){const e=this.getCurrentTime()??0,t=this.getSecondsLoaded(),s=this.getDuration();if(s){const r={playedSeconds:e,played:e/s};t!==null&&(r.loadedSeconds=t,r.loaded=t/s),(r.playedSeconds!==this.prevPlayed||r.loadedSeconds!==this.prevLoaded)&&this.onProgress(r),this.prevPlayed=r.playedSeconds,this.prevLoaded=r.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.progressFrequency??this.progressInterval)},handleReady(){if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:s,muted:r}=this;e(),!r&&s!==null&&this.player.setVolume(s),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()},handlePlay(){var r,i;this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:s}=this;this.startOnPlay&&(s!==1&&((i=(r=this.player)==null?void 0:r.setPlaybackRate)==null||i.call(r,s)),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()},handlePause(e){this.isPlaying=!1,this.isLoading||this.onPause(e)},handleEnded(){const{activePlayer:e,loop:t,onEnded:s}=this;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,s())},handleError(...e){this.isLoading=!1,this.onError(...e)},handleDurationCheck(){clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)},handleLoaded(){this.isLoading=!1}}},jt={key:1,class:"vue-player--none"};function Bt(e,t,s,r,i,n){return e.activePlayer?(o.openBlock(),o.createBlock(o.resolveDynamicComponent(e.activePlayer),o.mergeProps({key:0},n.playerProps,{class:"vue-player",onMount:n.handlePlayerMount,onReady:n.handleReady,onPlay:n.handlePlay,onPause:n.handlePause,onEnded:n.handleEnded,onLoaded:n.handleLoaded,onError:n.handleError},o.toHandlers(e.$listeners)),null,16,["onMount","onReady","onPlay","onPause","onEnded","onLoaded","onError"])):(o.openBlock(),o.createElementBlock("span",jt,[o.renderSlot(e.$slots,"none")]))}const Ie=f(Vt,[["render",Bt]]),Ut=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"})),R={},xt={emits:["click"],props:{url:a.string.isRequired,oEmbedUrl:a.string.isRequired,previewTabIndex:a.integer.def(0),light:a.any},data(){return{image:null,mounted:!1}},mounted(){this.mounted=!0,this.fetchImage()},beforeUnmount(){this.mounted=!1},computed:{previewStyles(){return this.image?{backgroundImage:`url(${this.image})`}:{}}},methods:{handleClick(e){this.$emit("click",e)},handleKeyPress(e){(e.key==="Enter"||e.key===" ")&&this.$emit("click",e)},async fetchImage(){if(typeof this.light=="string")this.image=this.light;else if(R[this.url])this.image=R[this.url];else{this.image=null;const t=await(await fetch(this.oEmbedUrl.replace("{url}",this.url))).json();if(typeof t.thumbnail_url<"u"&&this.mounted){const s=t.thumbnail_url.replace("height=100","height=480");this.image=s,R[this.url]=s}}},watch:{url:"fetchImage",light:"fetchImage"}}},Nt=["tabindex"],Ht=o.createElementVNode("div",{class:"vue-player__shadow react-player__shadow"},[o.createElementVNode("div",{class:"vue-player__play-icon react-player__play-icon"})],-1);function Kt(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("div",{class:"vue-player__preview react-player__preview",tabindex:s.previewTabIndex,style:o.normalizeStyle(n.previewStyles),onClick:t[0]||(t[0]=(...l)=>n.handleClick&&n.handleClick(...l)),onKeydown:t[1]||(t[1]=(...l)=>n.handleKeyPress&&n.handleKeyPress(...l))},[o.renderSlot(e.$slots,"playIcon",{},()=>[Ht])],44,Nt)}const Re=f(xt,[["render",Kt]]),zt=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),Ft="https://api.dmcdn.net/all.js",Yt="DM",Gt="dmAsyncInit",qt={displayName:"DailyMotion",canPlay:u.dailymotion,loopOnEnded:!0,mixins:[m],props:{config:ue,display:a.string.def("block")},computed:{styles(){return this.display?{display:this.display}:{}}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seek",e)},setVolume(e){this.callPlayer("setVolume",e)},mute(){this.callPlayer("setMuted",!0)},unmute(){this.callPlayer("setMuted",!1)},getDuration(){var e;return((e=this.player)==null?void 0:e.duration)||null},getCurrentTime(){var e;return(e=this.player)==null?void 0:e.currentTime},getSecondsLoaded(){var e;return(e=this.player)==null?void 0:e.bufferedTime},async load(e){const{controls:t,config:s,playing:r}=this,[,i]=e.match($e);if(this.player){this.player.load(i,{start:S(e),autoplay:r});return}try{const n=await b(Ft,Yt,Gt,d=>d.player);if(!this.$refs.container)return;const l=n.player;this.player=new l(this.$refs.container,{width:"100%",height:"100%",video:i,params:{controls:t,autoplay:this.playing,mute:this.muted,start:S(e),origin:window.location.origin,...s.params},events:{apiready:this.onReady,seeked:()=>this.onSeek(this.player.currentTime),video_end:this.onEnded,durationchange:this.onDurationChange,pause:this.onPause,playing:this.onPlay,waiting:this.onBuffer,error:this.onError}})}catch(n){this.onError(n)}},onDurationChange(){const e=this.getDuration();this.onDuration(e)}}},Wt={ref:"container"};function Xt(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("div",{class:"vue-player--dailymotion",style:o.normalizeStyle(n.styles)},[o.createElementVNode("div",Wt,null,512)],4)}const Me=f(qt,[["render",Xt]]),Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),X="https://connect.facebook.net/en_US/sdk.js",Z="FB",Q="fbAsyncInit",Qt="facebook-player-",Jt={displayName:"Facebook",canPlay:u.facebook,loopOnEnabled:!0,events:["loaded"],mixins:[m],props:{config:ce},data(){return{randomId:`${Qt}${H()}`}},computed:{playerID(){var e;return((e=this==null?void 0:this.config)==null?void 0:e.playerId)??this.randomId}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seek",e)},setVolume(e){this.callPlayer("setVolume",e)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},getDuration(){return this.callPlayer("getDuration")},getCurrentTime(){return this.callPlayer("getCurrentTime")},getSecondsLoaded(){return null},async load(e,t){var r,i;if(t){const n=await b(X,Z,Q);(i=(r=n==null?void 0:n.XFBML)==null?void 0:r.parse)==null||i.call(r);return}const s=await b(X,Z,Q);s.init({appId:this.config.appId,xfbml:!0,version:this.config.version}),s.Event.subscribe("xfbml.render",n=>{this.onLoaded()}),s.Event.subscribe("xfbml.ready",n=>{n.type==="video"&&n.id===this.playerID&&(this.player=n.instance,this.player.subscribe("startedPlaying",this.onPlay),this.player.subscribe("paused",this.onPause),this.player.subscribe("finishedPlaying",this.onEnded),this.player.subscribe("startedBuffering",this.onBuffer),this.player.subscribe("finishedBuffering",this.onBufferEnd),this.player.subscribe("error",this.onError),this.muted?this.mute():this.unmute(),this.onReady(),document.getElementById(this.playerID).querySelector("iframe").style.visibility="visible")})},onLoaded(...e){this.$emit("loaded",...e)}}},es=["id","data-href","data-autoplay","data-controls"];function ts(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("div",o.mergeProps({id:this.playerID,class:"fb-video vue-player--facebook","data-href":this.url,"data-autoplay":this.playing?"true":"false","data-controls":this.controls?"true":"false","data-allowfullscreen":"true"},s.config.attributes),null,16,es)}const Ve=f(Jt,[["render",ts]]),ss=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),je=typeof navigator<"u",rs=je&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,J=je&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||rs)&&!window.MSStream,ns="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",is="Hls",as="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",os="dashjs",ls="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",cs="flvjs",ds=/www\.dropbox\.com\/.+/,M=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,us="https://videodelivery.net/{id}/manifest/video.m3u8",hs={displayName:"FilePlayer",canPlay:u.file,mixins:[m],props:{config:fe},data(){return{prevPlayer:this.$refs.player??null,prevUrl:this.url}},computed:{urlIsArray(){return Array.isArray(this.url)},hasTracks(){var t;const e=((t=this.config)==null?void 0:t.tracks)??[];return Array.isArray(e)&&e.length>0},tag(){return this.shouldUseAudio?"audio":"video"},shouldUseAudio(){var e;return(e=this.config)!=null&&e.forceVideo||this.config.attributes.poster?!1:$.test(this.url)||this.config.forceAudio},styles(){return{width:this.width==="auto"?this.width:"100%",height:this.height==="auto"?this.height:"100%"}},src(){return this.getSource(this.url)}},mounted(){var e,t;this.addListeners(this.$refs.player),J&&((t=(e=this.$refs.player)==null?void 0:e.load)==null||t.call(e)),this.$watch(()=>this.$refs.player,(s,r)=>{this.prevPlayer=r})},beforeUnmount(){var e,t;this.prevPlayer=null,this.removeListeners(this.$refs.player),(t=(e=this.hls)==null?void 0:e.destroy)==null||t.call(e)},watch:{url(e,t){this.prevUrl=t,!L(e)&&this.$refs.player&&(this.$refs.player.srcObject=null)},shouldUseAudio(){this.removeListeners(this.prevPlayer,this.prevUrl),this.addListeners(this.$refs.player)}},methods:{onDisablePIP(...e){this.$emit("disable-pip",...e),this.playing&&this.play()},onSeek(e){this.$emit("seek",e.target.currentTime)},play(){var t,s;const e=(s=(t=this.$refs.player).play)==null?void 0:s.call(t);e&&e.catch(this.onError)},pause(){var e,t;(t=(e=this.$refs.player).pause)==null||t.call(e)},stop(){var e,t,s,r;(t=(e=this.$refs.player)==null?void 0:e.removeAttribute)==null||t.call(e,"src"),(r=(s=this.dash)==null?void 0:s.reset)==null||r.call(s)},seekTo(e){this.player.currentTime=e},setVolume(e){this.player.volume=e},mute(){this.player.muted=!0},unmute(){this.player.muted=!1},getDuration(){if(!this.$refs.player)return null;const{duration:e,seekable:t}=this.$refs.player;return e===1/0&&t.length>0?t.end(t.length-1):e},getCurrentTime(){var e;return(e=this.$refs.player)==null?void 0:e.currentTime},getSecondsLoaded(){if(!this.$refs.player)return null;const{buffered:e}=this.$refs.player;if(e.length===0)return 0;const t=e.end(e.length-1),s=this.getDuration();return t>s?s:t},setPlaybackRate(e){try{this.$refs.player.playbackRate=e}catch(t){this.onError(t)}},enablePIP(){var e,t,s,r,i,n;(e=this.$refs.player)!=null&&e.requestPictureInPicture&&document.pictureInPictureElement!==this.$refs.player?((s=(t=this.$refs.player)==null?void 0:t.requestPictureInPicture)==null||s.call(t),this.onEnablePIP()):k(this.$refs.player)&&((r=this.$refs.player)==null?void 0:r.webkitPresentationMode)!=="picture-in-picture"&&((n=(i=this.$refs.player)==null?void 0:i.webkitSetPresentationMode)==null||n.call(i,"picture-in-picture"),this.onEnablePIP())},disablePIP(){var e,t,s;document.exitPictureInPicture&&document.pictureInPictureElement===this.$refs.player?(document.exitPictureInPicture(),this.onDisablePIP()):k(this.$refs.player)&&((e=this.$refs.player)==null?void 0:e.webkitPresentationMode)!=="inline"&&((s=(t=this.$refs.player)==null?void 0:t.webkitSetPresentationMode)==null||s.call(t,"inline"),this.onDisablePIP())},async load(e){var n,l,d,h,c,y;const{hlsVersion:t,hlsOptions:s,dashVersion:r,flvVersion:i}=this.config;if((l=(n=this.hls)==null?void 0:n.destroy)==null||l.call(n),(h=(d=this.dash)==null?void 0:d.reset)==null||h.call(d),this.shouldUseHLS(e)){const p=await getSDK(ns.replace("VERSION",t),is);if(this.hls=new p(s),this.hls.on(p.Events.MANIFEST_PARSED,()=>{this.onReady()}),this.hls.on(p.Events.ERROR,(g,P)=>{this.onError(g,P,this.hls,p)}),M.test(e)){const g=e.match(M)[1];this.hls.loadSource(us.replace("{id}",g))}else this.hls.loadSource(e);this.hls.attachMedia(this.$refs.player),this.onLoaded()}else if(this.shouldUseDASH(e)){const p=await getSDK(as.replace("VERSION",r),os);this.dash=p.MediaPlayer().create(),this.dash.initialize(this.$refs.player,e,this.playing),this.dash.on("error",this.onError),parseInt(r)<3?this.dash.getDebug().setLogToBrowserConsole(!1):this.dash.updateSettings({debug:{logLevel:p.Debug.LOG_LEVEL_NONE}}),this.onLoaded()}else if(this.shouldUseFLV(e)){const p=await getSDK(ls.replace("VERSION",i),cs);this.flv=p.createPlayer({type:"flv",url:e}),this.flv.attachMediaElement(this.$refs.player),this.flv.load(),this.onLoaded()}if(e instanceof Array)(y=(c=this.$refs.player)==null?void 0:c.load)==null||y.call(c);else if(L(e))try{this.$refs.player.srcObject=e}catch{this.$refs.player.src=URL.createObjectURL(e)}},getSource(e){const t=this.shouldUseHLS(e),s=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||L(e)||t||s||r))return ds.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e},onPresentationModeChange(e){if(this.$refs.player&&k(this.$refs.player)){const{webkitPresentationMode:t}=this.$refs.player;t==="picture-in-picture"?this.onEnablePIP(e):t==="inline"&&this.onDisablePIP(e)}},addListeners(e){const{url:t,playsInline:s}=this;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlaybackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.addEventListener("canplay",this.onReady),s&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))},removeListeners(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlaybackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)},shouldUseHLS(e){var t;return(t=this.config)!=null&&t.forceHLS?!0:J?!1:K.test(e)||M.test(e)},shouldUseDASH(e){return Ce.test(e)||this.props.config.forceDASH},shouldUseFLV(e){return Ae.test(e)||this.props.config.forceFLV}}},ys=["src"];function ps(e,t,s,r,i,n){return o.openBlock(),o.createBlock(o.resolveDynamicComponent(n.tag),o.mergeProps({ref:"player",class:"vue-player--file",style:n.styles,preload:"auto",src:n.src,autoplay:e.playing,controls:e.controls,muted:e.muted,loop:e.loop},s.config.attributes),{default:o.withCtx(()=>[n.urlIsArray?(o.openBlock(),o.createElementBlock(o.Fragment,{key:0},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(this.url,(l,d)=>o.renderSlot(e.$slots,"source",o.normalizeProps(o.guardReactiveProps({source:l})),()=>[typeof l=="string"?(o.openBlock(),o.createElementBlock("source",{src:l,key:l},null,8,ys)):(o.openBlock(),o.createElementBlock("source",o.mergeProps({key:d},l),null,16))])),256)),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(this.config.tracks,(l,d)=>o.renderSlot(e.$slots,"track",o.normalizeProps(o.guardReactiveProps({track:l})),()=>[(o.openBlock(),o.createElementBlock("track",o.mergeProps({key:d},l),null,16))])),256))],64)):o.createCommentVNode("",!0)]),_:3},16,["style","src","autoplay","controls","muted","loop"])}const Be=f(hs,[["render",ps]]),fs=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"})),ms="https://cdn.embed.ly/player-0.1.0.min.js",Ps="playerjs",gs={displayName:"Kaltura",canPlay:u.kaltura,mixins:[m],data(){return{duration:null,currentTime:null,secondsLoaded:null}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("setCurrentTime",e)},setVolume(e){this.callPlayer("setVolume",e)},setLoop(e){this.callPlayer("setLoop",e)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.secondsLoaded},async load(e){try{const t=await b(ms,Ps);if(!this.$refs.iframe)return;this.player=new t.Player(this.$refs.iframe),this.player.on("ready",()=>{setTimeout(()=>{this.player.isReady=!0,this.player.setLoop(this.loop),this.muted&&this.player.mute(),this.addListeners(this.player),this.onReady()},500)})}catch(t){this.onError(t)}},addListeners(e){e.on("play",this.onPlay),e.on("pause",this.onPause),e.on("ended",this.onEnded),e.on("error",this.onError),e.on("timeupdate",({duration:t,seconds:s})=>{const r=this.duration!==t;this.duration=t,this.currentTime=s,r&&this.onDuration(t),this.onSeek(s)})}}},bs=["src"];function _s(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("iframe",{class:"vue-player--kaltura",ref:"iframe",src:e.url,frameborder:"0",scrolling:"no",allowfullscreen:"",allow:"encrypted-media;autoplay",referrerpolicy:"no-referrer-when-downgrade"},null,8,bs)}const Ue=f(gs,[["render",_s]]),vs=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),ws="https://widget.mixcloud.com/media/js/widgetApi.js",Es="Mixcloud",Ss={displayName:"Mixcloud",canPlay:u.mixcloud,mixins:[m],props:{config:be},data(){return{duration:null,currentTime:null,secondsLoaded:null}},computed:{id(){return this.url.match(Te)[1]},query(){return gt({...this.config.options,feed:`/${this.id}/`})},src(){return`https://www.mixcloud.com/widget/iframe/?${this.query}`}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seek",e)},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.secondsLoaded},async load(e){try{const t=await b(ws,Es);this.player=t.PlayerWidget(this.$refs.iframe),this.player.ready.then(()=>{this.player.events.play.on(this.onPlay),this.player.events.pause.on(this.onPause),this.player.events.ended.on(this.onEnded),this.player.events.error.on(this.onError),this.player.events.progress.on((s,r)=>{this.currentTime=s,this.duration=r}),this.onReady()})}catch(t){this.onError(t)}}}},Ls=["src"];function ks(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("iframe",{key:n.id,ref:"iframe",src:n.src,class:"vue-player--mixcloud",frameborder:"0"},null,8,Ls)}const xe=f(Ss,[["render",ks]]),$s=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),Ts="https://w.soundcloud.com/player/api.js",Os="SC",Ds={displayName:"Soundcloud",canPlay:u.soundcloud,loopOnEnded:!0,mixins:[m],props:{config:ie,display:a.string.def("block")},data(){return{duration:null,currentTime:null,fractionLoaded:null}},computed:{styles(){return{display:this.display,width:"100%",height:"100%"}},src(){return`https://w.soundcloud.com/player/?url=${encodeURIComponent(this.url)}`}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seekTo",e*1e3)},setVolume(e){this.callPlayer("setVolume",e*100)},mute(){this.setVolume(0)},unmute(){this.volume!==null&&this.setVolume(this.volume)},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.fractionLoaded*this.duration},async load(e,t){try{const s=await b(Ts,Os);if(!this.iframe)return;const{PLAY:r,PLAY_PROGRESS:i,PAUSE:n,FINISH:l,ERROR:d}=s.Widget.Events;t||(this.player=s.Widget(this.$refs.iframe),this.player.bind(r,this.onPlay),this.player.bind(n,()=>{this.duration-this.currentTime<.05||this.onPause()}),this.player.bind(i,h=>{this.currentTime=h.currentPosition/1e3,this.fractionLoaded=h.loadedProgress}),this.player.bind(l,this.onEnded),this.player.bind(d,this.onError)),this.player.load(e,{...this.config.options,callback:()=>{this.player.getDuration(h=>{this.duration=h/1e3,this.onReady()})}})}catch(s){this.onError(s)}}}},Cs=["src"];function As(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("iframe",{ref:"iframe",class:"vue-player--soundcloud",style:o.normalizeStyle(n.styles),src:n.src,frameborder:"0",allow:"autoplay"},null,12,Cs)}const Ne=f(Ds,[["render",As]]),Is=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"})),Rs="https://cdn.embed.ly/player-0.1.0.min.js",Ms="playerjs",Vs={displayName:"Streamable",canPlay:u.streamable,mixins:[m],data(){return{duration:null,currentTime:null,secondsLoaded:null}},computed:{id(){return this.url.match(Le)[1]},src(){return`https://streamable.com/o/${this.id}`}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("setCurrentTime",e)},setVolume(e){this.callPlayer("setVolume",e*100)},setLoop(e){this.callPlayer("setLoop",e)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.secondsLoaded},async load(e){try{const t=await getSDK(Rs,Ms);if(!this.iframe)return;this.player=new t.Player(this.$refs.iframe),this.player.setLoop(this.loop),this.player.on("ready",this.onReady),this.player.on("play",this.onPlay),this.player.on("pause",this.onPause),this.player.on("seeked",this.onSeek),this.player.on("ended",this.onEnded),this.player.on("error",this.onError),this.player.on("timeupdate",({duration:s,seconds:r})=>{this.duration=s,this.currentTime=r}),this.player.on("buffered",({percent:s})=>{this.duration&&(this.secondsLoaded=this.duration*s)}),this.muted&&this.player.mute()}catch(t){this.onError(t)}}}},js=["src"];function Bs(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("iframe",{class:"vue-player--streamable",ref:"iframe",src:n.src,frameborder:"0",scrolling:"no",allowfullscreen:""},null,8,js)}const He=f(Vs,[["render",Bs]]),Us=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"})),xs="https://player.twitch.tv/js/embed/v1.js",Ns="Twitch",Hs="twitch-player-",Ks={displayName:"Twitch",canPlay:u.twitch,loopOnEnded:!0,mixins:[m],props:{config:ve},data(){return{randomId:`${Hs}${H()}`}},computed:{pid(){return this.config.playerId??this.randomId}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},stop(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seek",e)},setVolume(e){this.callPlayer("setVolume",e)},unmute(){this.callPlayer("setMuted",!1)},getDuration(){return this.callPlayer("getDuration")},getCurrentTime(){return this.callPlayer("getCurrentTime")},getSecondsLoaded(){return null},async load(e,t){var s,r,i,n;try{const{playsinline:l,config:d,controls:h}=this,c=x.test(e),y=c?e.match(x)[1]:e.match(MATCH_URL_TWITCH_VIDEO)[1];if(t){c?(r=(s=this.player)==null?void 0:s.setChannel)==null||r.call(s,y):(n=(i=this.player)==null?void 0:i.setVideo)==null||n.call(i,"v"+y);return}const p=await getSDK(xs,Ns);this.player=new p.Player(this.pid,{video:c?"":y,channel:c?y:"",height:"100%",width:"100%",playsinline:l,autoplay:this.playing,muted:this.muted,controls:c?!0:h,time:S(e),...d.options});const{READY:g,PLAYING:P,PAUSE:T,ENDED:O,ONLINE:D,OFFLINE:C,SEEK:qe}=p.Player;this.player.addEventListener(g,this.onReady),this.player.addEventListener(P,this.onPlay),this.player.addEventListener(T,this.onPause),this.player.addEventListener(O,this.onEnded),this.player.addEventListener(qe,this.onSeek),this.player.addEventListener(D,this.onLoaded),this.player.addEventListener(C,this.onLoaded)}catch(l){this.onError(l)}}}},zs=["id"];function Fs(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("div",{class:"vue-player--twitch",id:n.pid},null,8,zs)}const Ke=f(Ks,[["render",Fs]]),Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"})),Gs="https://play.vidyard.com/embed/v4.js",qs="VidyardV4",Ws="onVidyardAPI",Xs={displayName:"Vidyard",canPlay:u.vidyard,mixins:[m],props:{config:Ee,display:a.string.def("block")},computed:{styles(){return{display:this.display,width:"100%",height:"100%"}}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},stop(){var e,t,s;(s=(t=(e=window.VidyardV4)==null?void 0:e.api)==null?void 0:t.destroyPlayer)==null||s.call(t,this.player)},seekTo(e){this.callPlayer("seek",e)},setVolume(e){this.callPlayer("setVolume",e)},mute(){this.setVolume(0)},unmute(){this.volume&&this.setVolume(this.volume)},setPlaybackRate(e){this.callPlayer("setPlaybackSpeed",e)},getDuration(){return this.duration},getCurrentTime(){return this.callPlayer("currentTime")},getSecondsLoaded(){return null},async load(e){try{const{playing:t,config:s}=this,r=(e??this.url).match(Oe)[1];this.player&&this.stop();const i=await b(Gs,qs,Ws);if(!this.$refs.container)return;i.api.addReadyListener((n,l)=>{this.player=l,this.player.on("ready",this.onReady),this.player.on("play",this.onPlay),this.player.on("pause",this.onPause),this.player.on("seek",this.onSeek),this.player.on("playerComplete",this.onEnded)},r),i.api.renderPlayer({uuid:r,container:this.$refs.container,autoplay:t?1:0,...s.options}),i.api.getPlayerMetadata(r).then(n=>{this.duration=n.length_in_seconds,this.onDuration(n.length_in_seconds)})}catch(t){this.onError(t)}}}},Zs={ref:"container"};function Qs(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("div",{style:o.normalizeStyle(n.styles)},[o.createElementVNode("div",Zs,null,512)],4)}const ze=f(Xs,[["render",Qs]]),Js=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"})),er="https://player.vimeo.com/api/player.js",tr="Vimeo",sr={displayName:"Vimeo",canPlay:u.vimeo,forceLoad:!0,mixins:[m],props:{config:ye,display:a.string.def("block")},data(){return{duration:null,currentTime:null,secondsLoaded:null}},computed:{styles(){return{display:this.display,overflow:"hidden",width:"100%",height:"100%"}}},methods:{play(){const e=this.callPlayer("play");e&&e.catch(this.onError)},pause(){this.callPlayer("pause")},stop(){this.callPlayer("unload")},seekTo(e){this.callPlayer("setCurrentTime",e)},setVolume(e){this.callPlayer("setVolume",e)},setLoop(e){this.callPlayer("setLoop",e)},setPlaybackRate(e){this.callPlayer("setPlaybackRate",e)},mute(){this.setVolume(0)},unmute(){this.volume&&this.setVolume(this.volume)},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.secondsLoaded},async load(e){try{this.duration=null;const t=await b(er,tr);if(!this.$refs.container)return;const{playerOptions:s,title:r}=this.config;this.player=new t.Player(this.$refs.container,{url:e,autoplay:this.playing,muted:this.muted,loop:this.loop,playsinline:this.playsinline,controls:this.controls,...s}),this.player.ready().then(()=>{const i=this.$refs.container.querySelector("iframe");i.style.width="100%",i.style.height="100%",r&&(i.title=r)}).catch(this.onError),this.player.on("loaded",()=>{this.onReady(),this.refreshDuration()}),this.player.on("play",()=>{this.onPlay(),this.refreshDuration()}),this.player.on("pause",this.onPause),this.player.on("seeked",i=>this.onSeek(i.seconds)),this.player.on("ended",this.onEnded),this.player.on("error",this.onError),this.player.on("timeupdate",({seconds:i})=>{this.currentTime=i}),this.player.on("progress",({seconds:i})=>{this.secondsLoaded=i}),this.player.on("bufferstart",this.onBuffer),this.player.on("bufferend",this.onBufferEnd)}catch(t){this.onError(t)}},async refreshDuration(){this.duration=await this.player.getDuration()}}};function rr(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("div",{key:this.url,style:o.normalizeStyle(n.styles),ref:"container"},null,4)}const Fe=f(sr,[["render",rr]]),nr=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"})),ir="https://fast.wistia.com/assets/external/E-v1.js",ar="Wistia",or="wistia-player-",lr={displayName:"Wistia",canPlay:u.wistia,loopOnEnded:!0,mixins:[m],props:{config:Pe},data(){return{randomId:`${or}${H()}`}},computed:{pid(){return this.config.playerId??this.randomId},videoId(){var e,t,s;return(s=(t=(e=this.url)==null?void 0:e.match)==null?void 0:t.call(e,ke))==null?void 0:s[1]},className(){return`vue-player--wistia wistia_embed wistia_async_${this.videoId}`}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},stop(){this.unbind(),this.callPlayer("remove")},seekTo(e){this.callPlayer("time",e)},setVolume(e){this.callPlayer("volume",e)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},setPlaybackRate(e){this.callPlayer("playbackRate",e)},getDuration(){return this.callPlayer("duration")},getCurrentTime(){return this.callPlayer("time")},getSecondsLoaded(){return null},async load(e){var t,s;try{const{playing:r,muted:i,controls:n,onReady:l,config:d,onError:h}=this,c=await getSDK(ir,ar);(s=(t=d.customControls)==null?void 0:t.forEach)==null||s.call(t,y=>c.defineControl(y)),window._wq=window._wq||[],window._wq.push({id:this.playerID,options:{autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:n,fullscreenButton:n,playbar:n,playbackRateControl:n,qualityControl:n,volumeControl:n,settingsControl:n,smallPlayButton:n,...d.options},onReady:y=>{this.player=y,this.unbind(),this.player.bind("play",this.onPlay),this.player.bind("pause",this.onPause),this.player.bind("seek",this.onSeek),this.player.bind("end",this.onEnded),this.player.bind("playbackratechange",this.onPlaybackRateChange),l()}})}catch(r){this.onError(r)}},unbind(){var e,t,s,r,i,n,l,d,h,c;(t=(e=this.player)==null?void 0:e.unbind)==null||t.call(e,"play",this.onPlay),(r=(s=this.player)==null?void 0:s.unbind)==null||r.call(s,"pause",this.onPause),(n=(i=this.player)==null?void 0:i.unbind)==null||n.call(i,"seek",this.onSeek),(d=(l=this.player)==null?void 0:l.unbind)==null||d.call(l,"end",this.onEnded),(c=(h=this.player)==null?void 0:h.unbind)==null||c.call(h,"playbackratechange",this.onPlaybackRateChange)}}},cr=["id"];function dr(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("div",{id:n.pid,key:n.videoId,class:o.normalizeClass(n.className)},null,10,cr)}const Ye=f(lr,[["render",dr]]),ur=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),hr="https://www.youtube.com/iframe_api",ee="YT",yr="onYouTubeIframeAPIReady",V=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,j=/user\/([a-zA-Z0-9_-]+)\/?/,pr=/youtube-nocookie\.com/,fr="https://www.youtube-nocookie.com",mr={displayName:"YouTube",canPlay:u.youtube,mixins:[m],props:{config:oe},computed:{styles(){return{display:this.display,width:"100%",height:"100%"}}},methods:{play(){this.callPlayer("playVideo")},pause(){this.callPlayer("pauseVideo")},stop(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")},seekTo(e){this.callPlayer("seekTo",e),this.playing||this.pause()},setVolume(e){this.callPlayer("setVolume",e*100)},mute(){this.callPlayer("mute")},unmute(){this.callPlayer("unmute")},setPlaybackRate(e){this.callPlayer("setPlaybackRate",e)},setLoop(e){this.callPlayer("setLoop",e)},getDuration(){return this.callPlayer("getDuration")},getCurrentTime(){return this.callPlayer("getCurrentTime")},getSecondsLoaded(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()},async load(e,t){try{const{playing:s,muted:r,playsinline:i,controls:n,loop:l,config:d,onError:h}=this,{playerVars:c,embedOptions:y}=d,p=this.getID(e);if(t){if(V.test(e)||j.test(e)||e instanceof Array){this.player.loadPlaylist(this.parsePlaylist(e));return}this.player.cueVideoById({videoId:p,startSeconds:S(e)||c.start,endSeconds:Y(e)||c.end});return}const g=await b(hr,ee,yr,P=>P.loaded);if(!this.container)return;this.player=new g.Player(this.container,{width:"100%",height:"100%",videoId:p,playerVars:{autoplay:s?1:0,mute:r?1:0,controls:n?1:0,start:S(e),end:Y(e),origin:window.location.origin,playsinline:i?1:0,...this.parsePlaylist(e),...c},events:{onReady:()=>{l&&this.player.setLoop(!0),this.onReady()},onPlaybackRateChange:P=>this.onPlaybackRateChange(P.data),onStateChange:this.onStateChange,onError:P=>h(P.data)},host:pr.test(e)?fr:void 0,...y}),y.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}catch(s){this.onError(s)}},parsePlaylist(e){if(e instanceof Array)return{listType:"playlist",playlist:e.map(this.getID).join(",")};if(V.test(e)){const[,t]=e.match(V);return{listType:"playlist",list:t.replace(/^UC/,"UU")}}if(j.test(e)){const[,t]=e.match(j);return{listType:"user_uploads",list:t}}return{}},onStateChange(e){const{data:t}=e,{onPlay:s,onPause:r,onBuffer:i,onBufferEnd:n,onEnded:l,onReady:d,loop:h,config:{playerVars:c,onUnstarted:y}}=this,{UNSTARTED:p,PLAYING:g,PAUSED:P,BUFFERING:T,ENDED:O,CUED:D}=window[ee].PlayerState;if(t===p&&y(),t===g&&(s(),n()),t===P&&r(),t===T&&i(),t===O){const C=!!this.callPlayer("getPlaylist");h&&!C&&(c.start?this.seekTo(c.start):this.play()),l()}t===D&&d()}}},Pr={ref:"container"};function gr(e,t,s,r,i,n){return o.openBlock(),o.createElementBlock("div",{class:"vue-player--youtube",style:o.normalizeStyle(n.styles)},[o.createElementVNode("div",Pr,null,512)],4)}const Ge=f(mr,[["render",gr]]),br=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));exports.DailyMotionPlayer=Me;exports.FacebookPlayer=Ve;exports.FilePlayer=Be;exports.KalturaPlayer=Ue;exports.MixcloudPlayer=xe;exports.Player=Ie;exports.Preview=Re;exports.SoundcloudPlayer=Ne;exports.StreamablePlayer=He;exports.TwitchPlayer=Ke;exports.VidyardPlayer=ze;exports.VimeoPlayer=Fe;exports.VuePlayer=Rt;exports.WistiaPlayer=Ye;exports.YouTubePlayer=Ge;exports.playerMixin=m;
