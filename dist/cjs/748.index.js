"use strict";(self.webpackChunk_voltra_vue_player=self.webpackChunk_voltra_vue_player||[]).push([[748],{5952:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var s=r(916);const i=["src"];var a=r(224),l=r(2120),o=r(3395),n=r(1847),u=r(4288);const d={displayName:"Soundcloud",canPlay:l.gR.soundcloud,loopOnEnded:!0,mixins:[o.m],props:{config:n.R,display:u.cp.string.def("block")},data:()=>({duration:null,currentTime:null,fractionLoaded:null}),computed:{styles(){return{display:this.display,width:"100%",height:"100%"}},src(){return"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.url))}},methods:{play(){this.callPlayer("play")},pause(){this.callPlayer("pause")},seekTo(e){this.callPlayer("seekTo",1e3*e)},setVolume(e){this.callPlayer("setVolume",100*e)},mute(){this.setVolume(0)},unmute(){null!==this.volume&&this.setVolume(this.volume)},getDuration(){return this.duration},getCurrentTime(){return this.currentTime},getSecondsLoaded(){return this.fractionLoaded*this.duration},async load(e,t){try{const r=await(0,a.Qt)("https://w.soundcloud.com/player/api.js","SC");if(!this.iframe)return;const{PLAY:s,PLAY_PROGRESS:i,PAUSE:l,FINISH:o,ERROR:n}=r.Widget.Events;t||(this.player=r.Widget(this.$refs.iframe),this.player.bind(s,this.onPlay),this.player.bind(l,(()=>{this.duration-this.currentTime<.05||this.onPause()})),this.player.bind(i,(e=>{this.currentTime=e.currentPosition/1e3,this.fractionLoaded=e.loadedProgress})),this.player.bind(o,this.onEnded),this.player.bind(n,this.onError)),this.player.load(e,{...this.config.options,callback:()=>{this.player.getDuration((e=>{this.duration=e/1e3,this.onReady()}))}})}catch(e){this.onError(e)}}}},c=(0,r(1732).c)(d,[["render",function(e,t,r,a,l,o){return(0,s.openBlock)(),(0,s.createElementBlock)("iframe",{ref:"iframe",class:"vue-player--soundcloud",style:(0,s.normalizeStyle)(o.styles),src:o.src,frameborder:"0",allow:"autoplay"},null,12,i)}]])}}]);